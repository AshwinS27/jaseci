{"version":3,"sources":["store/api.js","utils/utils.jsx","store/workette.js","store/session.js","store/store.js","store/middleware.js","components/navbar.jsx","components/wkt-button.jsx","utils/filters.jsx","components/wkt-item-single.jsx","components/wkt-item-list.jsx","components/wkt-item-set.jsx","components/wkt-note-set.jsx","components/wkt-link-set.jsx","components/wkt-worksets.jsx","components/wkt-add.jsx","components/wkt-note.jsx","components/wkt-item-single-form.jsx","components/wkt-item-move-form.jsx","components/workette.jsx","components/deep-mits.jsx","components/rflt-snippet.jsx","ReflectViews.jsx","LLReflectApp.jsx","components/day.jsx","DayViews.jsx","LLDayApp.jsx","components/login.jsx","components/register.jsx","App.js","serviceWorker.js","index.js"],"names":["api_actions","url","status","method","data","type","payload","success_action","error_action","pass_through","pl","init_state","is_loading","saveDelayTimeout","id","func","clearTimeout","setTimeout","time_now","Date","toLocaleDateString","todays_date","toISOString","split","is_today","date","Input","props","className","label","htmlFor","name","extra_class","aria-describedby","description","Select","value","options","onChange","map","i","key","MultiSelect","multiple","CheckBox","checked","ServerErrors","errors","messages","response","statusText","JSON","stringify","LoadingIndicator","Fragment","role","StatusBar","style","this","api","length","Component","move_arr_item","arr","old_index","new_index","k","push","undefined","splice","connect","state","wtype_options","apply_ordering","order","Array","isArray","filter","el","includes","idx","indexOf","ERROR","workette_actions","load_day","session","store","getState","api_act","snt","sentinel","nd","graph","ctx","set_workette","w_id","error_acmion","move_workette","dest_node","create_workette","delete_workette","parent_id","dummy_data","logout","load_workettes_from_payload","additions","x","jid","children","parent","item","context","error","days","items","LOGIN","LOGOUT","CREATE","session_actions","email","pass","full_name","password","code","logged_in","token","cur_date","jac_loaded","enhancers","compose","applyMiddleware","next","action","dispatch","a","axios","request","baseURL","process","report","message","window","__REDUX_DEVTOOLS_EXTENSION__","f","reducers","combineReducers","workette","day","new_items","kids","last_written","old_parent","new_parent","v","d_idx","active_error","active","pop","createStore","NavBar","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","WktButton","on_color","color","off_color","onClick","icon","workette_filters","scheduled_now","w","is_ritual","getDay","snooze_till","d1","d2","is_workette","wtype","open","complete","running","canceled","allChildren","ret","deepMIT","current","is_MIT","deepRunning","deepCompleted","deepCanceled","countDeepChildren","count","countDeepChildrenClosed","WktItemSingle","self_expand","is_workset","toggle_MIT","val","toggle_ritual","toggle_canceled","toggle_done","toggle_running","draggableId","index","provided","Container","fluid","draggableProps","ref","innerRef","Row","backgroundColor","Col","xs","faCheckSquare","dragHandleProps","setState","cursor","owner","opacity","w_filter","faStar","faRunning","faSync","faTimesCircle","Collapse","in","unmountOnExit","href","note","target","str","RegExp","test","src","width","height","maxHeight","wact","WktItemList","handle_drag","result","source","destination","droppableId","src_idx","dest_idx","new_order","showable","kind","filter_func","onDragEnd","droppableProps","placeholder","WktItemSet","minWidth","open_only","maxWidth","WktNotes","is_open","wkt_note","WktLinks","wkt_link","WktWorksets","wkt_workset","WktAddForm","title","handleSubmit","e","preventDefault","create","handleChange","currentTarget","prevProps","onSubmit","WktNoteForm","timeout","modules","toolbar","header","font","size","list","indent","clipboard","matchVisual","formats","updateStateLinked","saved","delta","handleLinkChange","validate","is_link","theme","WktItemSingleForm","update_func","handleRitChange","handleDelete","confirm","delete_func","WktItemMoveForm","all_potential_parents","bread_crumb","Workette","show_add","show_edit","show_move","show_note","update_workette","backgroundImage","faPlusSquare","faEdit","faBoxOpen","faStickyNote","faEye","DeepMITs","ordered","ReflectionSnippet","overflowY","toDateString","ReflectViewLeft","start_date","end_date","getDaysInRange","start","end","r","setDate","getDate","d","console","log","max","min","map_state","change_date","ReflectViewMain","allDayIds","d_id","LLReflectApp","defaults","headers","common","load_jac","history","get","then","btoa","Day","load_mits","DayViewLeft","today","DayViewRight","DayViewMain","LLDayApp","show_left","show_right","sidebar_style","should_show","LogIn","login","trim","disabled","LogOut","wkt_logout","map_dispatch","Register","pass_dup","App","path","component","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.8901521f.chunk.js","sourcesContent":["import axios from 'axios';\n\n// Action Types\nconst API_CALL = \"api_call\";\nconst API_SUCCESS = \"api_success\";\nconst API_FAIL = \"api_failed\";\nconst JSCI_BASE_URL = process.env.REACT_APP_JASECI_URL\n\n// Action Creators\nconst api_actions = {\n    call: ({ url, status, method, data, success_action, error_action, pass_through }) => ({\n        type: API_CALL,\n        payload: {\n            url,\n            status,\n            method: (method) ? method : \"get\",\n            data: (data) ? data : {},\n            success_action,\n            error_action,\n            pass_through\n        }\n    }),\n    success: (pl) => ({\n        type: API_SUCCESS,\n        payload: pl\n    }),\n    failed: (pl) => ({\n        type: API_FAIL,\n        payload: pl\n    }),\n}\n\n//Middleware for API calls that will hit store\nconst api_middleware = ({ dispatch, getState }) => next => async action => {\n    if (action.type !== \"api_call\") return next(action);\n    next(action);\n\n    const { url, method, data, success_action, error_action, pass_through }\n        = action.payload;\n\n    try {\n        const response = await axios.request({\n            baseURL: JSCI_BASE_URL,\n            url,\n            method,\n            data\n        });\n        response.data.pass_through = pass_through\n        dispatch(api_actions.success(response.data))\n        if (success_action)\n            dispatch({ type: success_action, payload: response.data })\n    } catch (error) {\n        const report = {};\n        if (error.message) report.messages = error.message;\n        if (error.response) report.response = error.response;\n        dispatch(api_actions.failed(report));\n        if (error_action)\n            dispatch({ type: error_action, payload: report })\n    }\n}\n\n// Reducers\nconst init_state = { is_loading: [] }\nconst api_reducer = (state = init_state, action) => {\n    const is_loading = state.is_loading;\n    switch (action.type) {\n        case API_CALL:\n            const status = action.payload.status ? action.payload.status : \"Working\"\n            is_loading.push(status)\n            return { ...state, is_loading: is_loading }\n        case API_FAIL:\n            is_loading.pop()\n            return { ...state, is_loading: is_loading }\n        case API_SUCCESS:\n            is_loading.pop()\n            return { ...state, is_loading: is_loading }\n        default:\n            return state;\n    }\n}\n\n\nexport { api_actions, api_middleware, api_reducer };","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nconst saveDelayTimeout = (id, func) => {\n  clearTimeout(id);\n  return setTimeout(() => func(), 1000);\n};\n\nconst time_now = () => new Date(new Date().toLocaleDateString());\n\nconst todays_date = () => time_now().toISOString().split(\"T\")[0];\n\nconst is_today = (date) => {\n  const dstr = new Date(date).toISOString().split(\"T\")[0];\n  return dstr === todays_date();\n};\n\n/* Generalized Input component for text input must provide value and\nand onChange for functionality\nimportant props:\n  name,\n  type,\n  label,\n  value,\n  onChange,\n  description,\n  extra_class,\n*/\nconst Input = (props) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {props.label && <label htmlFor={props.name}>{props.label}</label>}\n      <input\n        {...props}\n        className={\"form-control \" + props.extra_class}\n        id={props.name}\n        aria-describedby=\"inputdesc\"\n      />\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {props.description}\n      </small>\n    </div>\n  );\n};\n\nconst TextArea = ({\n  name,\n  type,\n  label,\n  value,\n  rows,\n  onChange,\n  description,\n  extra_class,\n}) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {label && <label htmlFor={name}>{label}</label>}\n      <textarea\n        value={value}\n        onChange={onChange}\n        name={name}\n        type={type}\n        rows={rows}\n        className={\"form-control \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      />\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {description}\n      </small>\n    </div>\n  );\n};\n\nconst Select = ({\n  name,\n  type,\n  label,\n  value,\n  options,\n  onChange,\n  description,\n  extra_class,\n}) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {label && <label htmlFor={name}>{label}</label>}\n      <select\n        value={value}\n        onChange={onChange}\n        name={name}\n        type={type}\n        className={\"form-control \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      >\n        {options.map((i) => (\n          <option key={i}>{i}</option>\n        ))}\n      </select>\n\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {description}\n      </small>\n    </div>\n  );\n};\n\nconst MultiSelect = ({\n  name,\n  type,\n  label,\n  value,\n  options,\n  onChange,\n  description,\n  extra_class,\n}) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {label && <label htmlFor={name}>{label}</label>}\n      <select\n        multiple\n        value={value}\n        onChange={onChange}\n        name={name}\n        type={type}\n        className={\"form-control \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      >\n        {options.map((i) => (\n          <option key={i[0]} label={i[1]}>\n            {i[0]}\n          </option>\n        ))}\n      </select>\n\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {description}\n      </small>\n    </div>\n  );\n};\n\nconst CheckBox = ({ name, type, label, value, onChange, extra_class }) => {\n  return (\n    <div className=\"form-check form-check-inline m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      <input\n        checked={value ? true : false}\n        onChange={onChange}\n        name={name}\n        type=\"checkbox\"\n        className={\"form-check-input \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      />\n      <label className=\"form-check-label\" htmlFor={name}>\n        {label}\n      </label>\n    </div>\n  );\n};\n\nconst ServerErrors = ({ errors }) => {\n  return (\n    <div>\n      {errors && (\n        <div className=\"alert alert-danger\">\n          <pre>\n            <small>\n              {errors.messages && errors.messages}\n              <br />\n              {errors.response &&\n                errors.response.statusText &&\n                errors.response.statusText}\n              <br />\n              {errors.response &&\n                errors.response.data &&\n                JSON.stringify(errors.response.data, null, 2)}\n            </small>\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst DEVBTN = ({ func, name }) => {\n  return (\n    <button className=\"btn btn-primary\" onClick={func}>\n      {name}\n    </button>\n  );\n};\n\nconst LoadingIndicator = ({ is_loading }) => {\n  return (\n    <React.Fragment>\n      {is_loading && (\n        <div>\n          &nbsp; &nbsp;\n          <div className=\"spinner-grow spinner-grow-sm\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n          &nbsp;\n          <small>{is_loading}...</small>\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nclass StatusBar extends Component {\n  render() {\n    return (\n      <footer className=\"footer border\" style={this.props.style}>\n        <LoadingIndicator\n          is_loading={\n            this.props.api.is_loading[this.props.api.is_loading.length - 1]\n          }\n        />\n      </footer>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst StatusBar_map_state = (state) => ({\n  api: state.api,\n});\n\nStatusBar = connect(StatusBar_map_state)(StatusBar);\n\nfunction move_arr_item(arr, old_index, new_index) {\n  while (old_index < 0) {\n    old_index += arr.length;\n  }\n  while (new_index < 0) {\n    new_index += arr.length;\n  }\n  if (new_index >= arr.length) {\n    let k = new_index - arr.length;\n    while (k-- + 1) {\n      arr.push(undefined);\n    }\n  }\n  arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n  return arr;\n}\n\nconst wtype_options = [\"workette\", \"link\", \"note\", \"workset\"];\n\n//Helper to keep sorting in workette lists\nfunction apply_ordering(order, arr) {\n  if (Array.isArray(order))\n    order\n      .filter((el) => arr.includes(el))\n      .map((i, idx) => (arr = move_arr_item(arr, arr.indexOf(i), idx)));\n  return arr;\n}\n\nfunction validURL(str) {\n  var pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?\" + // protocol\n      \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // domain name\n      \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR ip (v4) address\n      \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\n      \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\n      \"(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\"\n  ); // fragment locator\n  return !!pattern.test(str);\n}\n\nexport {\n  time_now,\n  todays_date,\n  is_today,\n  saveDelayTimeout,\n  Input,\n  TextArea,\n  Select,\n  MultiSelect,\n  CheckBox,\n  ServerErrors,\n  LoadingIndicator,\n  DEVBTN,\n  StatusBar,\n  move_arr_item,\n  wtype_options,\n  apply_ordering,\n  validURL,\n};\n","import { api_actions as api_act } from \"./api\";\nimport { time_now, apply_ordering } from \"../utils/utils\"\nimport store from './store';\n\n// Action Types\nconst LOAD_DAY = \"load_day\";\n// const LOAD_MITs = \"load_deep_mits\";\n// const LOAD_WORKETTE = \"load_workette\";\nconst SET_WORKETTE = \"update_workette\";\nconst MOVE_WORKETTE = \"move_workette\";\nconst CREATE_WORKETTE = \"create_workette\";\nconst DELETE_WORKETTE = \"delete_workette\";\nconst DUMMY_DATA = \"generate_dummy_data\";\nconst ERROR = \"workette_op_error\";\nconst WKT_LOGOUT = \"workette_log_out\";\n\n\n// Action Creators\nconst workette_actions = {\n    load_day: (date) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Loading Day\",\n            method: \"post\",\n            data: { name: \"get_gen_day\", snt: session.sentinel, nd: session.graph, ctx: { date: date } },\n            success_action: LOAD_DAY,\n            error_action: ERROR\n        });\n    },\n    // load_mits: (w_id) => {\n    //     const { session } = store.getState();\n    //     return api_act.call({\n    //         url: \"/jac/prime_run\",\n    //         method: \"post\",\n    //         data: { name: \"deep_mits\", snt: session.sentinel, nd: w_id, ctx: {} },\n    //         success_action: LOAD_MITs,\n    //         error_action: ERROR,\n    //         pass_through: { w_id: w_id }\n    //     });\n    // },\n    // load_workette: (w_id) => {\n    //     const { session } = store.getState();\n    //     return api_act.call({\n    //         url: \"/jac/prime_run\",\n    //         method: \"post\",\n    //         data: { name: \"load_workette\", snt: session.sentinel, nd: w_id, ctx: {} },\n    //         success_action: LOAD_WORKETTE,\n    //         error_action: ERROR\n    //     });\n    // },\n    set_workette: (w_id, ctx) => {\n        return api_act.call({\n            url: \"/jac/set_node_context\",\n            status: \"Updating Workette\",\n            method: \"post\",\n            data: { nd: w_id, ctx: ctx },\n            success_action: SET_WORKETTE,\n            error_acmion: ERROR\n        });\n    },\n    move_workette: (w_id, dest_node) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Moving Workette\",\n            method: \"post\",\n            data: { name: \"move_workette\", snt: session.sentinel, nd: w_id, ctx: { dest_node: dest_node } },\n            success_action: MOVE_WORKETTE,\n            error_action: ERROR,\n            pass_through: { w_id: w_id, dest_node: dest_node }\n        });\n    },\n    create_workette: (w_id, ctx) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Creating Workette\",\n            method: \"post\",\n            data: { name: \"create_workette\", snt: session.sentinel, nd: w_id, ctx: ctx },\n            success_action: CREATE_WORKETTE,\n            error_action: ERROR,\n            pass_through: { w_id: w_id }\n        });\n    },\n    delete_workette: (w_id, parent_id) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Deleting Workette\",\n            method: \"post\",\n            data: { name: \"delete_workette\", snt: session.sentinel, nd: w_id, ctx: {} },\n            success_action: DELETE_WORKETTE,\n            error_action: ERROR,\n            pass_through: { w_id: w_id, parent_id: parent_id }\n        });\n    },\n    dummy_data: () => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            method: \"post\",\n            data: { name: \"gen_rand_life\", snt: session.sentinel, nd: session.graph, ctx: {} },\n            success_action: DUMMY_DATA,\n            error_action: ERROR\n        })\n    },\n    logout: () => ({\n        type: WKT_LOGOUT\n    }),\n}\n\n\n\n\n//Reducer Helpers\nconst load_workettes_from_payload = (pl) => {\n    let additions = {}\n    pl.map(x => {\n        additions[x[1].jid] = x[1];\n        additions[x[1].jid].children = [];\n        const parent_id = 'urn:uuid:' + x[0];\n        additions[x[1].jid].parent = parent_id;\n        if (parent_id in additions)\n            additions[parent_id].children.push(x[1].jid)\n    });\n    for (const i in additions) {\n        const item = additions[i];\n        if (item.children)\n            item.children = apply_ordering(item.context.order, [...item.children])\n    }\n    return additions;\n}\n\n\n\n// Reducers\nconst init_state = { error: \"\", status: \"\", days: {}, items: {} }\nconst workette_reducer = (state = init_state, action) => {\n    switch (action.type) {\n        case LOAD_DAY:\n            {\n                const pl = action.payload;\n                const additions = load_workettes_from_payload(pl);\n                return {\n                    ...state,\n                    //DB of workettes for session\n                    items: { ...state.items, ...additions },\n                    days: { ...state.days, [pl[0][1].context.day.split('T')[0]]: pl[0][1].jid }\n                };\n\n            }\n        // case LOAD_MITs:\n        //     {\n        //         const pl = action.payload;\n        //         const { w_id } = action.payload.pass_through;\n        //         let additions = {}\n        //         let mit_list = [];\n        //         pl.map(x => { additions[x.jid] = x; mit_list.push(x.jid); });\n        //         additions[w_id] = state.items[w_id];\n        //         additions[w_id].deep_mits = mit_list;\n        //         return {\n        //             ...state,\n        //             //DB of workettes for session\n        //             items: { ...state.items, ...additions },\n        //         };\n        //     }\n        // case LOAD_WORKETTE:\n        //     {\n        //         const pl = action.payload;\n        //         const additions = load_workettes_from_payload(pl);\n        //         return {\n        //             ...state,\n        //             //DB of workettes for session\n        //             items: { ...state.items, ...additions },\n        //         };\n        //     }\n        case SET_WORKETTE:\n            {\n                let new_items = { ...state.items };\n                const kids = new_items[action.payload.jid].children\n                const parent = new_items[action.payload.jid].parent\n                new_items[action.payload.jid] = action.payload;\n                new_items[action.payload.jid].children =\n                    apply_ordering(action.payload.context.order, kids);\n                new_items[action.payload.jid].parent = parent;\n                new_items[action.payload.jid].context.last_written = time_now()\n\n                return {\n                    ...state,\n                    items: { ...new_items },\n                }\n            }\n        case MOVE_WORKETTE:\n            {\n                let new_items = { ...state.items };\n                const kids = new_items[action.payload[0].jid].children\n                const old_parent = new_items[action.payload[0].jid].parent;\n                const new_parent = action.payload.pass_through.dest_node;\n                new_items[action.payload[0].jid] = action.payload[0];\n                new_items[action.payload[0].jid].children =\n                    apply_ordering(action.payload[0].context.order, kids);\n                new_items[action.payload[0].jid].parent = new_parent;\n                new_items[old_parent].children = new_items[old_parent].children.filter(v => v !== action.payload[0].jid)\n                new_items[new_parent].children.push(action.payload[0].jid)\n                return {\n                    ...state,\n                    items: { ...new_items },\n                }\n            }\n        case CREATE_WORKETTE:\n            {\n                action.payload[0].children = []\n                action.payload[0].parent = action.payload.pass_through.w_id\n                let new_items = { ...state.items, [action.payload[0].jid]: action.payload[0] };\n                new_items[action.payload.pass_through.w_id].children.push(action.payload[0].jid)\n                return {\n                    ...state,\n                    items: { ...new_items },\n                };\n            }\n        case DELETE_WORKETTE:\n            {\n                let new_items = { ...state.items };\n                delete new_items[action.payload.pass_through.w_id];\n                const d_idx = new_items[action.payload.pass_through.parent_id].children.indexOf(action.payload.pass_through.w_id);\n                new_items[action.payload.pass_through.parent_id].children.splice(d_idx, 1);\n                return {\n                    ...state,\n                    items: { ...new_items },\n                };\n            }\n        case ERROR:\n            return { ...state, error: action.payload }\n        case WKT_LOGOUT:\n            return { ...init_state }\n        default:\n            return state;\n    }\n}\n\nexport { workette_reducer, workette_actions };","import { api_actions as api_act } from \"./api\";\nimport { todays_date } from \"../utils/utils\"\n\n//Action Types\nconst LOGIN = \"user_log_in\"\nconst LOGOUT = \"user_log_out\"\nconst CREATE = \"user_created\"\nconst CHANGE_DATE = \"change_date\"\nconst LOAD_JAC = \"load_jac_code\"\nconst ERROR = \"user_session_error\"\n\n//Action Creators\nconst session_actions = {\n    create: ({ email, pass, full_name }) =>\n        api_act.call({\n            url: \"/user/create/\",\n            method: \"post\",\n            data: { email, password: pass, name: full_name },\n            success_action: CREATE,\n            error_action: ERROR\n        }),\n    login: ({ email, pass }) =>\n        api_act.call({\n            url: \"/user/token/\",\n            method: \"post\",\n            data: { email, password: pass },\n            success_action: LOGIN,\n            error_action: ERROR\n        }),\n    load_jac: (code) =>\n        api_act.call({\n            url: \"/jac/load_application\",\n            method: \"post\",\n            data: { name: \"lifelogify\", code },\n            success_action: LOAD_JAC,\n            error_action: ERROR\n        }),\n    change_date: (date) => ({\n        type: CHANGE_DATE,\n        payload: { date }\n    }),\n    logout: () => ({\n        type: LOGOUT\n    }),\n    error: (pl) => ({\n        type: ERROR,\n        payload: pl\n    }),\n}\n\n//Reducers\nconst init_state = {\n    error: \"\", logged_in: false, token: \"\",\n    cur_date: todays_date(),\n    jac_loaded: false, sentinel: null, graph: null\n}\nconst session_reducer = (state = init_state, action) => {\n    switch (action.type) {\n        case LOGIN:\n            return {\n                ...state, error: \"\", token: action.payload.token,\n                logged_in: true\n            };\n        case LOGOUT:\n            return {\n                ...init_state\n            };\n        case CREATE:\n            return { ...state, error: \"\", token: \"user_created\", logged_in: false };\n        case CHANGE_DATE:\n            return { ...state, cur_date: action.payload.date.toISOString().split(\"T\")[0] };\n        case LOAD_JAC:\n            //Check first that LL Jac code compiled on server\n            let active_error = \"\";\n            const { sentinel, graph, active } = action.payload;\n            if (!active)\n                active_error = \"CRITICAL: LL JAC NOT ACTIVE\";\n            return {\n                ...state, error: active_error, jac_loaded: active_error === \"\",\n                sentinel: sentinel.split(\":\")[2], graph: graph.split(\":\")[2]\n            };\n        case ERROR:\n            return { ...state, error: action.payload };\n        default:\n            return state;\n    }\n}\n\nexport { session_actions, session_reducer };","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport { workette_reducer } from './workette';\nimport { session_reducer } from './session';\nimport { logger /*, func*/ } from './middleware';\nimport { api_middleware, api_reducer } from './api';\n\nconst enhancers = compose(applyMiddleware(logger, /*func,*/ api_middleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f);\n\n\nconst reducers = combineReducers({\n    workette: workette_reducer,\n    session: session_reducer,\n    api: api_reducer,\n});\n\nconst store = createStore(reducers, enhancers);\n\nexport default store;","const logger = store => next => action => {\n    next(action);\n}\n\n//Middleware to convert functions to action objects for reducers\nconst func = ({ dispatch, getState }) => next => action => {\n    if (typeof action === 'function') action(dispatch, getState);\n    else next(action);\n}\n\nexport { logger, func };","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nclass NavBar extends Component {\n  render() {\n    return (\n      <nav\n        className=\"navbar navbar-default navbar-expand-lg navbar-light bg-light border\"\n        role=\"navigation\"\n        style={this.props.style}\n      >\n        <Link className=\"navbar-brand\" to=\"/\">\n          LL\n        </Link>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          {!this.props.session.logged_in && (\n            <React.Fragment>\n              <ul className=\"nav navbar-nav  ml-auto\">\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/login\">\n                    Login\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/register\">\n                    Register\n                  </Link>\n                </li>\n              </ul>\n            </React.Fragment>\n          )}\n          {this.props.session.logged_in && (\n            <React.Fragment>\n              <ul className=\"nav navbar-nav\">\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/\">\n                    Day\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/reflect\">\n                    Reflect\n                  </Link>\n                </li>\n              </ul>\n              <ul className=\"nav navbar-nav ml-auto\">\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/logout\">\n                    Logout\n                  </Link>\n                </li>\n              </ul>\n            </React.Fragment>\n          )}\n        </div>\n      </nav>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n  api: state.api,\n});\n\nexport default connect(map_state)(NavBar);\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass WktButton extends Component {\n  on_color = { color: \"#000\" };\n  off_color = { color: \"#aaa\" };\n  render() {\n    return (\n      <span className=\"ml-1\" onClick={this.props.onClick}>\n        <FontAwesomeIcon\n          icon={this.props.icon}\n          style={this.props.status ? this.on_color : this.off_color}\n        />\n      </span>\n    );\n  }\n}\n\nexport default WktButton;\n","import store from \"../store/store\";\n\nconst workette_filters = {\n  scheduled_now: function (w) {\n    const { session } = store.getState();\n    const ctx = w.context;\n    if (\n      ctx.is_ritual &&\n      !ctx.is_ritual[new Date(store.getState().session.cur_date).getDay()]\n    )\n      if (ctx.status === \"done\") return true;\n      else return false;\n\n    if (ctx.snooze_till) {\n      let d1 = new Date(ctx.snooze_till);\n      let d2 = new Date(session.cur_date);\n      if (ctx.snooze_till && d1 > d2) return false;\n    }\n    return true;\n  },\n\n  is_workette: function (w) {\n    if (!workette_filters.scheduled_now(w)) return false;\n    const ctx = w.context;\n    if (!ctx.wtype || ctx.wtype === \"workette\" || ctx.wtype == \"none\")\n      return true;\n    return false;\n  },\n\n  open: function (w) {\n    if (!workette_filters.scheduled_now(w)) return false;\n    const ctx = w.context;\n    if (!ctx.status || ctx.status === \"open\")\n      if (!ctx.wtype || ctx.wtype === \"workette\" || ctx.wtype == \"none\")\n        return true;\n    return false;\n  },\n\n  complete: function (w) {\n    const ctx = w.context;\n    if (ctx.status === \"done\") return true;\n    return false;\n  },\n\n  running: function (w) {\n    const ctx = w.context;\n    if (ctx.status === \"running\") return true;\n    return false;\n  },\n\n  canceled: function (w) {\n    const ctx = w.context;\n    if (ctx.status === \"canceled\") return true;\n    return false;\n  },\n\n  allChildren: function (w) {\n    const { items } = store.getState().workette;\n    let ret = [];\n    if (!w || !w.children) return ret;\n    w.children.map((x) => {\n      ret.push(...workette_filters.allChildren(items[x]));\n    });\n    ret.push(w);\n    return ret;\n  },\n\n  deepMIT: function (w_id = null) {\n    const { items } = store.getState().workette;\n    let current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    if (w_id) current = items[w_id];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (\n        k.context.is_MIT &&\n        workette_filters.open(k) &&\n        workette_filters.scheduled_now(k)\n      )\n        ret.push(k.jid);\n    });\n    return ret;\n  },\n\n  deepRunning: function (w_id = null) {\n    const { items } = store.getState().workette;\n    let current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    if (w_id) current = items[w_id];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (workette_filters.running(k)) ret.push(k.jid);\n    });\n    return ret;\n  },\n\n  deepCompleted: function (w_id = null) {\n    const { items } = store.getState().workette;\n    let current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    if (w_id) current = items[w_id];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (workette_filters.complete(k)) ret.push(k.jid);\n    });\n    return ret;\n  },\n\n  deepCanceled: function (w_id = null) {\n    const { items } = store.getState().workette;\n    let current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    if (w_id) current = items[w_id];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (k.context.status === \"canceled\") ret.push(k.jid);\n    });\n    return ret;\n  },\n\n  // Get total number of items inside workette thats available\n  countDeepChildren: function (w) {\n    const { items } = store.getState().workette;\n    let count =\n      workette_filters.is_workette(w) && workette_filters.scheduled_now(w)\n        ? 1\n        : 0;\n    w.children.map((i) => {\n      count += workette_filters.countDeepChildren(items[i]);\n    });\n    return count;\n  },\n\n  // Get total number of items that has been closed\n  countDeepChildrenClosed: function (w) {\n    const { items } = store.getState().workette;\n    let count =\n      workette_filters.is_workette(w) &&\n      workette_filters.scheduled_now(w) &&\n      (workette_filters.complete(w) || workette_filters.canceled(w))\n        ? 1\n        : 0;\n    w.children.map((i) => {\n      count += workette_filters.countDeepChildrenClosed(items[i]);\n    });\n    return count;\n  },\n};\n\nexport { workette_filters };\n","import React, { Component } from \"react\";\nimport { Draggable } from \"react-beautiful-dnd\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Collapse } from \"react-bootstrap\";\n\nimport Workette from \"./workette\";\nimport { is_today, validURL } from \"../utils/utils\";\nimport WktButton from \"./wkt-button\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport { workette_filters as w_filter } from \"../utils/filters\";\nimport {\n  faCheckSquare,\n  faTimesCircle,\n  faSync,\n  faStar,\n  faRunning,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport \"x-frame-bypass\";\n\nclass WktItemSingle extends Component {\n  state = {\n    self_expand: this.props.is_workset ? false : false,\n  };\n\n  toggle_MIT = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    const val = this.props.item.context.is_MIT;\n    this.props.set_workette(item.jid, { is_MIT: !val });\n  };\n\n  toggle_ritual = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    const val = this.props.item.context.is_ritual\n      ? false\n      : [1, 1, 1, 1, 1, 1, 1]; //Bitmap for days of the week maps to getDay func\n    this.props.set_workette(item.jid, { is_ritual: val });\n  };\n\n  toggle_canceled = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    let val = this.props.item.context.status;\n    if (val === \"canceled\") val = \"open\";\n    else val = \"canceled\";\n    this.props.set_workette(item.jid, { status: val });\n  };\n\n  toggle_done = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    let val = this.props.item.context.status;\n    if (val === \"done\") val = \"open\";\n    else val = \"done\";\n    this.props.set_workette(item.jid, { status: val });\n  };\n\n  toggle_running = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    let val = this.props.item.context.status;\n    if (val === \"running\") val = \"open\";\n    else val = \"running\";\n    this.props.set_workette(item.jid, { status: val });\n  };\n\n  render() {\n    const { item } = this.props;\n    let color = this.props.color ? this.props.color : \"#ffffff\";\n\n    const is_workette =\n      item.context.wtype !== \"workset\" &&\n      item.context.wtype !== \"note\" &&\n      item.context.wtype !== \"link\";\n\n    return (\n      <Draggable draggableId={item.jid} index={this.props.index}>\n        {(provided) => (\n          <React.Fragment>\n            {this.props.is_workset && <br />}\n            <Container\n              fluid\n              {...provided.draggableProps}\n              ref={provided.innerRef}\n              className=\"border\"\n            >\n              <Row\n                className=\"d-flex justify-content-between \"\n                style={{ backgroundColor: color }}\n              >\n                {is_workette && (\n                  <Col xs=\"auto\" className=\"m-0 p-0\">\n                    <WktButton\n                      icon={faCheckSquare}\n                      status={item.context.status === \"done\"}\n                      onClick={() => this.toggle_done(item)}\n                    />\n                  </Col>\n                )}\n                <Col className=\"m-0 p-0\">\n                  <div\n                    className=\"d-inline-flex ml-1\"\n                    {...provided.dragHandleProps}\n                    onClick={() => {\n                      this.setState({\n                        self_expand: !this.state.self_expand,\n                      });\n                    }}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    {item.context.owner && (\n                      <span>[{item.context.owner}]&nbsp;</span>\n                    )}\n                    {this.state.self_expand && (\n                      <strong>{item.context.name}</strong>\n                    )}\n                    {!this.state.self_expand && item.context.name}\n                  </div>\n                </Col>\n\n                <Col xs=\"auto\" className=\"m-0 p-0\">\n                  <div className=\"badge badge-info\" style={{ opacity: 0.5 }}>\n                    {w_filter.countDeepChildren(item) > 1 && (\n                      <div>\n                        {w_filter.countDeepChildrenClosed(item)}/\n                        {w_filter.countDeepChildren(item) - 1}\n                      </div>\n                    )}\n                  </div>\n\n                  <WktButton\n                    icon={faStar}\n                    status={item.context.is_MIT}\n                    onClick={() => this.toggle_MIT(item)}\n                  />\n                  {is_workette && (\n                    <React.Fragment>\n                      <WktButton\n                        icon={faRunning}\n                        status={item.context.status === \"running\"}\n                        onClick={() => this.toggle_running(item)}\n                      />\n                      <WktButton\n                        icon={faSync}\n                        status={item.context.is_ritual}\n                        onClick={() => this.toggle_ritual(item)}\n                      />\n                    </React.Fragment>\n                  )}\n                  <WktButton\n                    icon={faTimesCircle}\n                    status={item.context.status === \"canceled\"}\n                    onClick={() => this.toggle_canceled(item)}\n                  />\n                  <div\n                    {...provided.dragHandleProps}\n                    className=\"d-inline-flex\"\n                  ></div>\n                </Col>\n              </Row>\n            </Container>\n            <Collapse in={this.state.self_expand} unmountOnExit={true}>\n              <div>\n                <div>\n                  <Workette w_id={item.jid} />\n                </div>\n                {item.context.wtype === \"link\" && (\n                  <div>\n                    <a href={item.context.note} target=\"_blank\">\n                      Pop out to tab\n                    </a>\n                    {validURL(item.context.note) && (\n                      <iframe\n                        src={item.context.note}\n                        style={{\n                          width: \"100%\",\n                          height: \"800px\",\n                          maxHeight: \"80vh\",\n                        }}\n                      />\n                    )}\n                  </div>\n                )}\n              </div>\n            </Collapse>\n          </React.Fragment>\n        )}\n      </Draggable>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n});\n\nexport default connect(map_state, map_dispatch)(WktItemSingle);\n","import React, { Component } from \"react\";\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\nimport WktItemSingle from \"./wkt-item-single\";\n\nimport { workette_actions as wact } from \"../store/workette\";\nimport { is_today, move_arr_item } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { Container } from \"react-bootstrap\";\n\nclass WktItemList extends Component {\n  handle_drag = (result) => {\n    const { source, destination, draggableId } = result;\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { children } = items[current];\n    if (\n      !is_today(this.props.session.cur_date) ||\n      !destination ||\n      source.droppableId !== destination.droppableId ||\n      source.index === destination.index\n    )\n      return;\n    const src_idx = children.indexOf(draggableId);\n    const dest_idx = children.indexOf(children[destination.index]);\n    const new_order = move_arr_item(children, src_idx, dest_idx);\n    this.props.set_workette(current, {\n      order: new_order,\n    });\n  };\n\n  showable = (item) => {\n    if (!item.kind === \"workette\") return false;\n    if (!this.props.filter_func(item)) return false;\n    return true;\n  };\n\n  render() {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { children } = items[current];\n\n    return (\n      <React.Fragment>\n        <Container fluid className=\"\">\n          <DragDropContext onDragEnd={this.handle_drag}>\n            <Droppable droppableId={current}>\n              {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                  {children &&\n                    children.map((i, idx) => (\n                      <React.Fragment key={items[i].jid}>\n                        {this.showable(items[i]) && (\n                          <WktItemSingle\n                            item={items[i]}\n                            index={idx}\n                            is_workset={this.props.is_workset}\n                            color={this.props.color}\n                          />\n                        )}\n                      </React.Fragment>\n                    ))}\n\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          </DragDropContext>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n});\n\nexport default connect(map_state, map_dispatch)(WktItemList);\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { faSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { workette_filters as w_filter } from \"../utils/filters\";\n\nclass WktItemSet extends Component {\n  render() {\n    return (\n      <Container fluid className=\"mr-0 pr-0\">\n        <Row>\n          <Col style={{ minWidth: \"300px\" }}>\n            <WktItemList filter_func={w_filter.open} w_id={this.props.w_id} />\n            <WktItemList\n              filter_func={w_filter.running}\n              w_id={this.props.w_id}\n              color=\"#ededff\"\n            />\n          </Col>\n          {!this.props.open_only && (\n            <Col style={{ maxWidth: \"36%\", minWidth: \"300px\" }}>\n              <WktItemList\n                filter_func={w_filter.complete}\n                w_id={this.props.w_id}\n                color=\"#edffed\"\n              />\n\n              <WktItemList\n                filter_func={(w) => !w_filter.scheduled_now(w)}\n                w_id={this.props.w_id}\n                color=\"#ffffed\"\n              />\n              <WktItemList\n                filter_func={w_filter.canceled}\n                w_id={this.props.w_id}\n                color=\"#ffeeee\"\n              />\n            </Col>\n          )}\n        </Row>\n      </Container>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nexport default connect(map_state)(WktItemSet);\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container } from \"react-bootstrap\";\n\nclass WktNotes extends Component {\n  wkt_note(w) {\n    const ctx = w.context;\n    const is_open = ctx.status === \"open\" || !ctx.status;\n    if (ctx.wtype && ctx.wtype === \"note\" && is_open) return true;\n    return false;\n  }\n\n  render() {\n    return (\n      <Container fluid>\n        <WktItemList\n          filter_func={this.wkt_note}\n          w_id={this.props.w_id}\n          color=\"#eeeeee\"\n        />\n      </Container>\n    );\n  }\n}\n\nexport default WktNotes;\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container } from \"react-bootstrap\";\n\nclass WktLinks extends Component {\n  wkt_link(w) {\n    const ctx = w.context;\n    const is_open = ctx.status === \"open\" || !ctx.status;\n    if (ctx.wtype && ctx.wtype === \"link\" && is_open) return true;\n    return false;\n  }\n\n  render() {\n    return (\n      <Container fluid className=\"mt-3\">\n        <WktItemList\n          filter_func={this.wkt_link}\n          w_id={this.props.w_id}\n          color=\"#ededff\"\n        />\n      </Container>\n    );\n  }\n}\n\nexport default WktLinks;\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container } from \"react-bootstrap\";\n\nclass WktWorksets extends Component {\n  wkt_workset(w) {\n    const ctx = w.context;\n    const is_open = ctx.status === \"open\" || !ctx.status;\n    if (ctx.wtype && ctx.wtype === \"workset\" && is_open) return true;\n    return false;\n  }\n\n  render() {\n    return (\n      <Container fluid className=\"mr-0 pr-0\">\n        <WktItemList\n          filter_func={this.wkt_workset}\n          w_id={this.props.w_id}\n          is_workset={true}\n          color=\"#ffefcd\"\n        />\n      </Container>\n    );\n  }\n}\n\nexport default WktWorksets;\n","import React, { Component } from \"react\";\nimport { Input, Select, is_today, wtype_options } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nclass WktAddForm extends Component {\n  state = { title: \"\", wtype: \"\" };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.w_id !== prevProps.w_id) {\n      this.setState({ title: \"\", wtype: \"\" });\n    }\n  }\n\n  handleSubmit = (e) => {\n    const current = this.props.w_id;\n    e.preventDefault();\n    if (is_today(this.props.session.cur_date))\n      //Call Server\n      this.props.create(current, this.state);\n    this.setState({ title: \"\" });\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"add\") {\n      this.setState({ title: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"wtype\") {\n      this.setState({ wtype: e.currentTarget.value });\n    }\n  };\n\n  render() {\n    const { title, wtype } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <Row>\n          <Col>\n            <Input\n              value={title}\n              onChange={this.handleChange}\n              name=\"add\"\n              extra_class=\"form-control-sm\"\n              description=\"Add a new workette. Press enter to add.\"\n            />\n          </Col>\n          <Col className=\"col-md-auto\">\n            <Select\n              value={wtype}\n              onChange={this.handleChange}\n              name=\"wtype\"\n              options={wtype_options}\n              extra_class=\"form-control-sm\"\n              description=\"Enter type of workette.\"\n            />\n          </Col>\n        </Row>\n      </form>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  create: (w_id, title) => dispatch(wact.create_workette(w_id, title)),\n});\n\nexport default connect(map_state, map_dispatch)(WktAddForm);\n","import React, { Component } from \"react\";\nimport { Input, saveDelayTimeout, is_today } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { Container } from \"react-bootstrap\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.bubble.css\";\nimport \"react-quill/dist/quill.snow.css\";\n\nclass WktNoteForm extends Component {\n  state = { timeout: null, note: \"\", last_written: null };\n\n  modules = {\n    toolbar: [\n      [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\n      [{ size: [] }],\n      [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n      [\n        { list: \"ordered\" },\n        { list: \"bullet\" },\n        { indent: \"-1\" },\n        { indent: \"+1\" },\n      ],\n      [\"link\", \"image\", \"video\"],\n      [\"clean\"],\n    ],\n    clipboard: {\n      // toggle to add extra line breaks when pasting HTML:\n      matchVisual: false,\n    },\n  };\n\n  formats = [\n    \"header\",\n    \"font\",\n    \"size\",\n    \"bold\",\n    \"italic\",\n    \"underline\",\n    \"strike\",\n    \"blockquote\",\n    \"list\",\n    \"bullet\",\n    \"indent\",\n    \"link\",\n    \"video\",\n  ];\n\n  updateStateLinked = () => {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { note, last_written } = items[current].context;\n    this.setState({\n      note: note ? note : \"\",\n      last_written: last_written ? last_written : null,\n    });\n  };\n  componentDidMount() {\n    this.updateStateLinked();\n  }\n\n  componentDidUpdate() {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { last_written } = items[current].context;\n    if (last_written && last_written > this.state.last_written)\n      this.updateStateLinked();\n  }\n\n  handleSubmit = (e = false) => {\n    if (e) e.preventDefault();\n    const { note } = this.state;\n    const current = this.props.w_id;\n    if (!is_today(this.props.session.cur_date)) return;\n    //Call Server\n    this.props.set_workette(current, { note });\n    setTimeout(() => this.setState({ ...this.state, saved: false }), 1000);\n  };\n\n  handleChange = (value, delta, source) => {\n    if (source === \"user\")\n      this.setState({\n        note: value,\n        timeout: saveDelayTimeout(this.state.timeout, () =>\n          this.handleSubmit()\n        ),\n      });\n  };\n\n  handleLinkChange = (e) => {\n    if (e.currentTarget.name === \"note\") {\n      this.setState({\n        note: e.currentTarget.value,\n        timeout: saveDelayTimeout(this.state.timeout, () =>\n          this.handleSubmit(e)\n        ),\n      });\n    }\n  };\n\n  validate = () => {};\n\n  render() {\n    const { note } = this.state;\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n\n    const is_link =\n      items[current].context.wtype && items[current].context.wtype === \"link\";\n\n    return (\n      <Container fluid>\n        <form onSubmit={this.handleSubmit}>\n          {is_link && (\n            <Input\n              value={note}\n              onChange={this.handleLinkChange}\n              extra_class=\"form-control-sm\"\n              name=\"note\"\n              description=\"Link URL\"\n            />\n          )}\n          {!is_link && (\n            <div>\n              <br />\n              <Container\n                fluid\n                className=\"border rounded m-0 p-0\"\n                style={{ backgroundColor: \"white\" }}\n              >\n                <ReactQuill\n                  value={note}\n                  onChange={this.handleChange}\n                  //modules={this.modules}\n                  formats={this.formats}\n                  theme=\"bubble\"\n                  placeholder={\"Write something...\"}\n                />\n              </Container>\n            </div>\n          )}\n        </form>\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n});\n\nexport default connect(map_state, map_dispatch)(WktNoteForm);\n","import React, { Component } from \"react\";\nimport {\n  Input,\n  Select,\n  CheckBox,\n  saveDelayTimeout,\n  wtype_options,\n} from \"../utils/utils\";\nimport { Collapse, Container, Row, Col } from \"react-bootstrap\";\n\nclass WktItemSingleForm extends Component {\n  state = {\n    timeout: null,\n    name: \"\",\n    owner: \"\",\n    wtype: \"\",\n    snooze_till: \"\",\n    is_ritual: false,\n    last_written: null,\n  };\n\n  updateStateLinked = () => {\n    const {\n      name,\n      owner,\n      wtype,\n      is_ritual,\n      snooze_till,\n      last_written,\n    } = this.props.item.context;\n    this.setState({\n      name: name ? name : \"\",\n      owner: owner ? owner : \"\",\n      wtype: wtype ? wtype : \"\",\n      snooze_till: snooze_till ? snooze_till : \"\",\n      is_ritual: is_ritual ? is_ritual : false,\n      last_written: last_written ? last_written : null,\n    });\n  };\n\n  componentDidUpdate() {\n    const { last_written } = this.props.item.context;\n    if (last_written && last_written > this.state.last_written)\n      this.updateStateLinked();\n  }\n\n  componentDidMount() {\n    this.updateStateLinked();\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.update_func(this.state);\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"name\") {\n      this.setState({ name: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"owner\") {\n      this.setState({ owner: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"wtype\") {\n      this.setState({ wtype: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"snooze_till\") {\n      this.setState({ snooze_till: e.currentTarget.value });\n    }\n    this.setState({\n      timeout: saveDelayTimeout(this.state.timeout, () => this.handleSubmit(e)),\n    });\n  };\n\n  handleRitChange = (e) => {\n    let { is_ritual } = this.state;\n    //If ritual deactivated, reactivate\n    if (!is_ritual) {\n      is_ritual = [1, 1, 1, 1, 1, 1, 1];\n    }\n    switch (e.currentTarget.name) {\n      case \"mon\":\n        is_ritual[0] = !is_ritual[0];\n        break;\n      case \"tues\":\n        is_ritual[1] = !is_ritual[1];\n        break;\n      case \"wed\":\n        is_ritual[2] = !is_ritual[2];\n        break;\n      case \"thurs\":\n        is_ritual[3] = !is_ritual[3];\n        break;\n      case \"fri\":\n        is_ritual[4] = !is_ritual[4];\n        break;\n      case \"sat\":\n        is_ritual[5] = !is_ritual[5];\n        break;\n      case \"sun\":\n        is_ritual[6] = !is_ritual[6];\n        break;\n      default:\n        break;\n    }\n    //If no day set for ritual turn ritual off\n    if (!is_ritual.filter((i) => i).length) is_ritual = false;\n    this.setState({ is_ritual: is_ritual });\n    this.setState({\n      timeout: saveDelayTimeout(this.state.timeout, () => this.handleSubmit(e)),\n    });\n  };\n\n  handleDelete = (e) => {\n    e.preventDefault();\n    if (window.confirm(\"Are you sure?\")) {\n      this.props.delete_func();\n    }\n  };\n\n  render() {\n    const { name, owner, wtype, snooze_till } = this.state;\n    let { is_ritual } = this.state;\n\n    //Detected if ritual turned on elsewhere then set checkbox values\n    const true_rit = this.props.item.context.is_ritual;\n    if (true_rit && !is_ritual) {\n      is_ritual = this.props.item.context.is_ritual;\n    }\n\n    return (\n      <Container fluid>\n        <form onSubmit={this.handleSubmit}>\n          <Row>\n            <Input\n              value={name}\n              onChange={this.handleChange}\n              name=\"name\"\n              extra_class=\"form-control-sm\"\n              description=\"Enter title of workette.\"\n            />\n            &nbsp;&nbsp;\n            <Select\n              value={wtype}\n              onChange={this.handleChange}\n              name=\"wtype\"\n              options={wtype_options}\n              extra_class=\"form-control-sm\"\n              description=\"Enter type of workette.\"\n            />\n          </Row>\n          <Row>\n            <Input\n              value={owner}\n              onChange={this.handleChange}\n              name=\"owner\"\n              extra_class=\"form-control-sm\"\n              description=\"Enter workette owner.\"\n            />\n            &nbsp;&nbsp;\n            <Input\n              value={snooze_till}\n              type=\"date\"\n              onChange={this.handleChange}\n              name=\"snooze_till\"\n              extra_class=\"form-control-sm\"\n              description=\"Enter date for workette.\"\n            />\n          </Row>\n\n          <Collapse in={this.props.item.context.is_ritual ? true : false}>\n            <Row>\n              <small>\n                <div>Ritual recurs every</div>\n\n                <CheckBox\n                  value={is_ritual[0]}\n                  onChange={this.handleRitChange}\n                  name=\"mon\"\n                  label=\"Monday\"\n                />\n                <CheckBox\n                  value={is_ritual[1]}\n                  onChange={this.handleRitChange}\n                  name=\"tues\"\n                  label=\"Tuesday\"\n                />\n                <CheckBox\n                  value={is_ritual[2]}\n                  onChange={this.handleRitChange}\n                  name=\"wed\"\n                  label=\"Wednesday\"\n                />\n                <CheckBox\n                  value={is_ritual[3]}\n                  onChange={this.handleRitChange}\n                  name=\"thurs\"\n                  label=\"Thursday\"\n                />\n                <CheckBox\n                  value={is_ritual[4]}\n                  onChange={this.handleRitChange}\n                  name=\"fri\"\n                  label=\"Friday\"\n                />\n                <CheckBox\n                  value={is_ritual[5]}\n                  onChange={this.handleRitChange}\n                  name=\"sat\"\n                  label=\"Saturday\"\n                />\n                <CheckBox\n                  value={is_ritual[6]}\n                  onChange={this.handleRitChange}\n                  name=\"sun\"\n                  label=\"Sunday\"\n                />\n              </small>\n            </Row>\n          </Collapse>\n        </form>\n        {this.props.item.context.status === \"canceled\" && (\n          <center>\n            <a href=\"#\" onClick={this.handleDelete}>\n              <small>Permanently Delete</small>\n            </a>\n          </center>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default WktItemSingleForm;\n","import React, { Component } from \"react\";\nimport { MultiSelect, saveDelayTimeout } from \"../utils/utils\";\nimport { Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\n\nclass WktItemMoveForm extends Component {\n  state = {\n    timeout: null,\n  };\n\n  all_potential_parents = (item) => {\n    const { items } = this.props;\n    if (!(item in items)) return [];\n    let ret = [];\n    items[item].children.map((x) => {\n      if (x !== this.props.item && items[x].context.name) {\n        ret.push(...this.all_potential_parents(x));\n      }\n    });\n    if (items[item].context.name) {\n      ret.push(item);\n    }\n    return ret;\n  };\n\n  bread_crumb = (item) => {\n    const { items } = this.props;\n    let ret = \"\";\n\n    //Day nodes do not have valid item ids so item ends up not having id\n    if (!items[item] || items[item].context.day) return \"\";\n\n    if (items[item].parent) ret += this.bread_crumb(items[item].parent);\n    ret += \"::\" + items[item].context.name;\n    return ret;\n  };\n\n  handleSubmit = (e) => {\n    this.props.update_func(this.state);\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"parent\") {\n      if (window.confirm(\"Are you sure you want to move this item?\")) {\n        this.props.move_workette(this.props.item, e.currentTarget.value);\n      }\n    }\n  };\n\n  render() {\n    const { new_parent } = this.state;\n    const wtype_options = [\"workette\", \"link\", \"note\", \"workset\"];\n\n    return (\n      <Container fluid>\n        <form onSubmit={this.handleSubmit}>\n          <MultiSelect\n            value={new_parent}\n            onChange={this.handleChange}\n            name=\"parent\"\n            options={[\n              [this.props.day, \"Top Level of Day\"],\n              ...this.all_potential_parents(this.props.day).map((x) => {\n                return [x, this.bread_crumb(x)];\n              }),\n            ]}\n            extra_class=\"form-control-sm\"\n            description=\"Enter new parent workette.\"\n          />\n        </form>\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n});\n\nconst map_dispatch = (dispatch) => ({\n  move_workette: (w_id, dest_node) =>\n    dispatch(wact.move_workette(w_id, dest_node)),\n});\n\nexport default connect(map_state, map_dispatch)(WktItemMoveForm);\n","import React, { Component } from \"react\";\nimport WktItemSet from \"./wkt-item-set\";\nimport WktNotes from \"./wkt-note-set\";\nimport WktLinks from \"./wkt-link-set\";\nimport WktWorksets from \"./wkt-worksets\";\nimport WktAddForm from \"./wkt-add\";\nimport WktNoteForm from \"./wkt-note\";\nimport WktItemSingleForm from \"./wkt-item-single-form\";\nimport WktItemMoveForm from \"./wkt-item-move-form\";\nimport { is_today } from \"../utils/utils\";\nimport WktButton from \"./wkt-button\";\nimport {\n  faPlusSquare,\n  faEdit,\n  faStickyNote,\n  faEye,\n  faLink,\n  faBoxOpen,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { Collapse, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\n\nclass Workette extends Component {\n  state = {\n    show_add: false,\n    show_edit: false,\n    show_move: false,\n    show_note: false,\n    open_only: true,\n  };\n\n  componentDidMount() {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const item = items[current];\n    if (item.context.note !== \"\" && item.context.wtype !== \"workset\")\n      this.setState({ show_note: true });\n  }\n\n  update_workette = (ctx) => {\n    const item = this.props.workette.items[this.props.w_id];\n    if (!is_today(this.props.session.cur_date)) return;\n    this.props.set_workette(item.jid, ctx);\n  };\n\n  delete_workette = () => {\n    const item = this.props.workette.items[this.props.w_id];\n    if (!is_today(this.props.session.cur_date)) return;\n    this.props.delete_workette(item.jid, item.parent);\n  };\n\n  render() {\n    const { session, workette } = this.props;\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    if (!items[current]) {\n      return <div>Does not exist</div>;\n    }\n    return (\n      <React.Fragment>\n        <Container\n          fluid\n          className=\"border m-0 p-0\"\n          style={{ backgroundImage: \"linear-gradient(#fffff5, #eeffff)\" }}\n        >\n          <span>\n            {/* <strong>\n              {items[current].context.name && items[current].context.name}\n            </strong> */}\n            <WktButton\n              icon={faPlusSquare}\n              status={this.state.show_add}\n              onClick={() => {\n                this.setState({ show_add: !this.state.show_add });\n              }}\n            />\n            {items[current].context.name && (\n              <React.Fragment>\n                <WktButton\n                  icon={faEdit}\n                  status={this.state.show_edit}\n                  onClick={() => {\n                    this.setState({ show_edit: !this.state.show_edit });\n                  }}\n                />\n                <WktButton\n                  icon={faBoxOpen}\n                  status={this.state.show_move}\n                  onClick={() => {\n                    this.setState({ show_move: !this.state.show_move });\n                  }}\n                />\n              </React.Fragment>\n            )}\n            <WktButton\n              icon={faStickyNote}\n              status={this.state.show_note}\n              onClick={() => {\n                this.setState({ show_note: !this.state.show_note });\n              }}\n            />\n            <WktButton\n              icon={faEye}\n              status={!this.state.open_only}\n              onClick={() => {\n                this.setState({ open_only: !this.state.open_only });\n              }}\n            />\n          </span>\n          <Collapse in={this.state.show_add} unmountOnExit={true}>\n            <div>\n              <WktAddForm w_id={this.props.w_id} />\n            </div>\n          </Collapse>\n          <Collapse in={this.state.show_edit} unmountOnExit={true}>\n            <div>\n              <WktItemSingleForm\n                item={items[current]}\n                update_func={this.update_workette}\n                delete_func={this.delete_workette}\n              />\n            </div>\n          </Collapse>\n          <Collapse in={this.state.show_move} unmountOnExit={true}>\n            <div>\n              <WktItemMoveForm\n                item={current}\n                items={items}\n                day={workette.days[session.cur_date]}\n              />\n            </div>\n          </Collapse>\n          <WktItemSet w_id={this.props.w_id} open_only={this.state.open_only} />\n          <Collapse\n            in={this.state.show_note || items[current].context.wtype === \"note\"}\n            unmountOnExit={true}\n          >\n            <div>\n              <WktNoteForm w_id={current} />\n            </div>\n          </Collapse>\n          <WktLinks w_id={this.props.w_id} />\n          <WktNotes w_id={this.props.w_id} />\n          <WktWorksets w_id={this.props.w_id} />\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n  api: state.api,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n  delete_workette: (w_id, parent_id) =>\n    dispatch(wact.delete_workette(w_id, parent_id)),\n});\n\nexport default connect(map_state, map_dispatch)(Workette);\n","import React, { Component } from \"react\";\nimport WktItemSingle from \"./wkt-item-single\";\nimport { Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\nimport { apply_ordering, move_arr_item } from \"../utils/utils\";\n\nclass DeepMITs extends Component {\n  state = { ordered: [] };\n\n  componentDidMount() {\n    this.setState({ ordered: this.props.items });\n  }\n\n  componentDidUpdate() {\n    const { ordered } = this.state;\n    const new_order = apply_ordering(ordered, this.props.items);\n    if (new_order !== this.state.ordered) this.setState({ ordered: new_order });\n  }\n\n  handle_drag = (result) => {\n    const { source, destination, draggableId } = result;\n    const { ordered } = this.state;\n    if (\n      !destination ||\n      source.droppableId !== destination.droppableId ||\n      source.index === destination.index\n    )\n      return;\n    const src_idx = ordered.indexOf(draggableId);\n    const dest_idx = ordered.indexOf(ordered[destination.index]);\n    const new_order = move_arr_item(ordered, src_idx, dest_idx);\n    this.setState({ ordered: new_order });\n  };\n\n  render() {\n    const { items } = this.props.workette;\n    const { ordered } = this.state;\n    return (\n      <Container fluid className=\"m-0 p-0\">\n        {this.props.items && this.props.items.length > 0 && (\n          <div>\n            <br />\n            {this.props.label}\n          </div>\n        )}\n        <DragDropContext onDragEnd={this.handle_drag}>\n          <Droppable droppableId={this.props.w_id}>\n            {(provided) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                {this.props.items.map((i, idx) => (\n                  <React.Fragment key={i}>\n                    {\n                      <WktItemSingle\n                        item={items[i]}\n                        index={idx}\n                        is_workset={false}\n                        color={this.props.color}\n                      />\n                    }\n                  </React.Fragment>\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n});\nexport default connect(map_state)(DeepMITs);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Container, Col } from \"react-bootstrap\";\nimport DeepMITs from \"./deep-mits\";\nimport { workette_filters as w_filter } from \"../utils/filters\";\n\nclass ReflectionSnippet extends Component {\n  render() {\n    const { session, workette } = this.props;\n    const { items } = workette;\n    const current = this.props.w_id;\n    return (\n      <Col\n        className=\"col-3 mt-3\"\n        style={{\n          minWidth: \"400px\",\n          maxHeight: \"50%\",\n          overflowY: \"auto\",\n        }}\n      >\n        <Container fluid className=\"border rounded\">\n          <center>\n            <strong>\n              {new Date(items[current].context.day).toDateString()}\n            </strong>\n          </center>\n          {current && (\n            <DeepMITs\n              w_id={current}\n              label=\"Everything Completed!\"\n              color=\"#d4ffd4\"\n              items={w_filter.deepCompleted(current)}\n            />\n          )}\n          {current && (\n            <DeepMITs\n              w_id={current}\n              label=\"Everything Abandoned!\"\n              color=\"#ffdddd\"\n              items={w_filter.deepCanceled(current)}\n            />\n          )}\n        </Container>\n      </Col>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n});\n\nexport default connect(map_state)(ReflectionSnippet);\n","import React, { Component } from \"react\";\nimport Workette from \"./components/workette\";\nimport \"react-calendar/dist/Calendar.css\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"./store/session\";\nimport { workette_actions as wact } from \"./store/workette\";\nimport { time_now, Input } from \"./utils/utils\";\nimport { Container, Row } from \"react-bootstrap\";\nimport ReflectionSnippet from \"./components/rflt-snippet\";\n\nclass ReflectViewLeft extends Component {\n  state = {\n    start_date: time_now().toISOString().split(\"T\")[0],\n    end_date: time_now().toISOString().split(\"T\")[0],\n  };\n\n  getDaysInRange = (start, end) => {\n    const ret = [];\n    for (\n      let r = new Date(start);\n      r <= new Date(end);\n      r.setDate(r.getDate() + 1)\n    ) {\n      ret.push(r.toISOString().split(\"T\")[0]);\n    }\n    return ret;\n  };\n\n  handleChange = (e) => {\n    let start = this.state.start_date;\n    let end = this.state.end_date;\n    if (e.currentTarget.name === \"start_date\") {\n      start = e.currentTarget.value;\n      this.setState({ start_date: start });\n    } else if (e.currentTarget.name === \"end_date\") {\n      end = e.currentTarget.value;\n      this.setState({ end_date: end });\n    }\n\n    this.getDaysInRange(start, end).map((d) => {\n      const { workette } = this.props;\n      if (!workette.days[d]) {\n        this.props.load_day(d);\n      }\n    });\n  };\n\n  render() {\n    const { session, workette } = this.props;\n    const { items } = workette;\n    const current = workette.days[session.cur_date];\n    const { start_date, end_date } = this.state;\n    console.log(start_date);\n    return (\n      <Container fluid className=\"m-0 p-0\">\n        <Input\n          value={start_date}\n          max={end_date}\n          type=\"date\"\n          onChange={this.handleChange}\n          name=\"start_date\"\n          extra_class=\"form-control-sm\"\n          description=\"Enter date for workette.\"\n        />\n        <Input\n          value={end_date}\n          min={start_date}\n          type=\"date\"\n          onChange={this.handleChange}\n          name=\"end_date\"\n          extra_class=\"form-control-sm\"\n          description=\"Enter date for workette.\"\n        />\n      </Container>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n});\n\nconst left_map_dispatch = (dispatch) => ({\n  change_date: (date) => dispatch(session.change_date(date)),\n  load_day: (date) => dispatch(wact.load_day(date)),\n});\n\nReflectViewLeft = connect(map_state, left_map_dispatch)(ReflectViewLeft);\n\nclass ReflectViewMain extends Component {\n  state = {};\n\n  allDayIds = () => {\n    const { workette } = this.props;\n    const ret = [];\n    for (const d in workette.days) {\n      ret.push(workette.days[d]);\n    }\n    return ret;\n  };\n\n  render() {\n    const { session, workette } = this.props;\n    return (\n      <Container fluid>\n        <Row style={{ height: \"100%\", overflowY: \"auto\" }}>\n          {this.allDayIds().map((d_id) => (\n            <ReflectionSnippet w_id={d_id} />\n          ))}\n        </Row>\n      </Container>\n    );\n  }\n}\n\nReflectViewMain = connect(map_state)(ReflectViewMain);\n\nexport { ReflectViewLeft, ReflectViewMain };\n","import React, { Component } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { ReflectViewLeft, ReflectViewMain } from \"./ReflectViews\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"./store/session\";\nimport axios from \"axios\";\n\nclass LLReflectApp extends Component {\n  componentDidMount() {\n    if (!this.props.session.logged_in) this.props.history.push(\"/login\");\n    else {\n      axios.defaults.headers.common[\"Authorization\"] =\n        \"token \" + this.props.session.token;\n\n      if (!this.props.session.jac_loaded) this.props.load_jac();\n    }\n  }\n\n  render() {\n    return (\n      <Container fluid style={{ height: \"100%\" }}>\n        {this.props.session.jac_loaded && (\n          <Row style={{ height: \"100%\", overflowY: \"auto\" }}>\n            <Col\n              style={{\n                minWidth: \"300px\",\n                height: \"100%\",\n                maxWidth: \"450px\",\n                overflowY: \"auto\",\n              }}\n            >\n              <Container>\n                <ReflectViewLeft />\n              </Container>\n            </Col>\n            <Col\n              style={{\n                minWidth: \"400px\",\n                height: \"100%\",\n                overflowY: \"auto\",\n              }}\n            >\n              <ReflectViewMain />\n            </Col>\n          </Row>\n        )}\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  load_jac: () =>\n    axios.get(\"/ll.jac\").then((r) => dispatch(session.load_jac(btoa(r.data)))),\n});\n\nexport default connect(map_state, map_dispatch)(LLReflectApp);\n","import React, { Component } from \"react\";\nimport Workette from \"./workette\";\nimport { connect } from \"react-redux\";\nimport WktNoteForm from \"./wkt-note\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { workette_actions as wact } from \"../store/workette\";\n\nfunction print_date(d) {\n  let ret = new Date(d);\n  return ret.toDateString();\n}\n\nclass Day extends Component {\n  componentDidMount() {\n    const { session, workette } = this.props;\n    const current = workette.days[session.cur_date];\n    //this.props.load_mits(current);\n  }\n\n  render() {\n    const { session, workette } = this.props;\n    const current = workette.days[session.cur_date];\n    return (\n      <Container fluid>\n        <Container fluid>\n          <Row></Row>\n        </Container>\n        <strong>\n          {workette.items[current].context.day &&\n            print_date(workette.items[current].context.day)}\n        </strong>\n        <Workette w_id={current} />\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n  api: state.api,\n});\n\nconst map_dispatch = (dispatch) => ({\n  load_mits: (w_id) => dispatch(wact.load_mits(w_id)),\n});\n\nexport default connect(map_state, map_dispatch)(Day);\n","import React, { Component } from \"react\";\nimport Day from \"./components/day\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"./store/session\";\nimport { workette_actions as wact } from \"./store/workette\";\nimport DeepMITs from \"./components/deep-mits\";\nimport { Container } from \"react-bootstrap\";\nimport { time_now } from \"./utils/utils\";\nimport { workette_filters as w_filter } from \"./utils/filters\";\n\nclass DayViewLeft extends Component {\n  state = { date: time_now() };\n\n  componentDidMount() {\n    this.onChange(time_now());\n  }\n\n  onChange = (date) => {\n    const today = time_now();\n    if (date > today) date = today;\n    this.props.change_date(date);\n    const { workette } = this.props;\n    const current = workette.days[date.toISOString().split(\"T\")[0]];\n    if (!current) {\n      this.props.load_day(date.toISOString().split(\"T\")[0]);\n    }\n    this.setState({ date });\n  };\n\n  render() {\n    const { session, workette } = this.props;\n    const { items } = workette;\n    const current = workette.days[session.cur_date];\n\n    return (\n      <Container fluid className=\"m-0 p-0\">\n        <small>\n          <Calendar value={this.state.date} onChange={this.onChange} />\n        </small>\n        <small>Ver. 0.38.6 </small>\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Knock these out!\"\n            items={w_filter.deepMIT()}\n          />\n        )}\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Babysit these!\"\n            color=\"#ededff\"\n            items={w_filter.deepRunning()}\n          />\n        )}\n      </Container>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n});\n\nconst left_map_dispatch = (dispatch) => ({\n  change_date: (date) => dispatch(session.change_date(date)),\n  load_day: (date) => dispatch(wact.load_day(date)),\n});\n\nDayViewLeft = connect(map_state, left_map_dispatch)(DayViewLeft);\n\nclass DayViewRight extends Component {\n  render() {\n    const { session, workette } = this.props;\n    const current = workette.days[session.cur_date];\n    return (\n      <Container fluid className=\"m-0 p-0\">\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Everything Completed!\"\n            color=\"#d4ffd4\"\n            items={w_filter.deepCompleted()}\n          />\n        )}\n\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Everything Abandoned!\"\n            color=\"#ffdddd\"\n            items={w_filter.deepCanceled()}\n          />\n        )}\n      </Container>\n    );\n  }\n}\n\nDayViewRight = connect(map_state)(DayViewRight);\n\nclass DayViewMain extends Component {\n  state = {};\n  render() {\n    const { session, workette } = this.props;\n    return (\n      <React.Fragment>\n        {workette.days[session.cur_date] && <Day />}\n      </React.Fragment>\n    );\n  }\n}\n\nDayViewMain = connect(map_state)(DayViewMain);\n\nexport { DayViewLeft, DayViewRight, DayViewMain };\n","import React, { Component } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { DayViewLeft, DayViewRight, DayViewMain } from \"./DayViews\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"./store/session\";\nimport axios from \"axios\";\nimport WktButton from \"./components/wkt-button\";\nimport { faAlignCenter, faEye } from \"@fortawesome/free-solid-svg-icons\";\n\nclass LLDayApp extends Component {\n  state = { show_left: true, show_right: true };\n  componentDidMount() {\n    if (!this.props.session.logged_in) this.props.history.push(\"/login\");\n    else {\n      axios.defaults.headers.common[\"Authorization\"] =\n        \"token \" + this.props.session.token;\n\n      if (!this.props.session.jac_loaded) this.props.load_jac();\n    }\n  }\n\n  sidebar_style = (should_show) => {\n    return {\n      minWidth: should_show ? \"300px\" : \"70px\",\n      maxHeight: \"100%\",\n      maxWidth: should_show ? \"350px\" : \"70px\",\n      overflowY: \"auto\",\n    };\n  };\n\n  render() {\n    return (\n      <Container fluid style={{ height: \"100%\" }}>\n        {this.props.session.jac_loaded && (\n          <Row style={{ height: \"100%\", overflowY: \"auto\" }}>\n            <Col\n              style={this.sidebar_style(this.state.show_left)}\n              className=\"border\"\n            >\n              <Container>\n                <center>\n                  <WktButton\n                    icon={faEye}\n                    status={this.state.show_left}\n                    onClick={() => {\n                      this.setState({ show_left: !this.state.show_left });\n                    }}\n                  />\n                </center>\n                {this.state.show_left && <DayViewLeft />}\n              </Container>\n            </Col>\n            <Col\n              style={{\n                minWidth: \"400px\",\n                maxHeight: \"100%\",\n                overflowY: \"auto\",\n              }}\n            >\n              <DayViewMain />\n            </Col>\n            <Col\n              style={this.sidebar_style(this.state.show_right)}\n              className=\"border\"\n            >\n              <center>\n                <WktButton\n                  icon={faEye}\n                  status={this.state.show_right}\n                  onClick={() => {\n                    this.setState({ show_right: !this.state.show_right });\n                  }}\n                />\n              </center>\n              {this.state.show_right && <DayViewRight />}\n            </Col>\n          </Row>\n        )}\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  load_jac: () =>\n    axios.get(\"/ll.jac\").then((r) => dispatch(session.load_jac(btoa(r.data)))),\n});\n\nexport default connect(map_state, map_dispatch)(LLDayApp);\n","import React, { Component } from \"react\";\nimport { Input, ServerErrors } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"../store/session\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport { Redirect } from \"react-router-dom\";\n\nclass LogIn extends Component {\n  state = { email: \"\", pass: \"\", errors: [] };\n\n  handleSubmit = (e) => {\n    const { email, pass } = this.state;\n    e.preventDefault();\n    //Call server\n    this.props.login({ email, pass });\n\n    this.setState({ pass: \"\" });\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"email\") {\n      this.setState({ email: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"password\") {\n      this.setState({ pass: e.currentTarget.value });\n    }\n  };\n\n  validate = () => {\n    const { email, pass, errors } = this.state;\n    errors.length = 0;\n    if (email.trim() === \"\") {\n      errors.push(\"Email required;\\n\");\n    }\n    if (pass.trim() === \"\") {\n      errors.push(\"Password required;\\n\");\n    }\n  };\n\n  render() {\n    const { email, pass, errors } = this.state;\n    return (\n      <div className=\"container-sm\">\n        {this.props.session.logged_in && <Redirect to=\"/\" />}\n        <ServerErrors errors={this.props.session.error} />\n        <h1>Login</h1>\n        <br />\n\n        <form onSubmit={this.handleSubmit}>\n          <Input\n            value={email}\n            onChange={this.handleChange}\n            name=\"email\"\n            label=\"Email address\"\n            description=\"Enter a valid email address.\"\n          />\n          <Input\n            value={pass}\n            onChange={this.handleChange}\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            description=\"Enter your password.\"\n          />\n\n          <button\n            disabled={errors.length}\n            type=\"submit\"\n            className=\"btn btn-primary\"\n          >\n            Login\n          </button>\n        </form>\n        <br />\n      </div>\n    );\n  }\n}\n\nclass LogOut extends Component {\n  state = {};\n  componentDidMount() {\n    this.props.logout();\n    this.props.wkt_logout();\n  }\n  render() {\n    return <div>{!this.props.session.logged_in && <Redirect to=\"/\" />}</div>;\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  login: ({ email, pass }) => dispatch(session.login({ email, pass })),\n  logout: () => dispatch(session.logout()),\n  wkt_logout: () => dispatch(wact.logout()),\n});\n\nLogIn = connect(map_state, map_dispatch)(LogIn);\nLogOut = connect(map_state, map_dispatch)(LogOut);\n\nexport { LogIn, LogOut };\n","import React, { Component } from \"react\";\nimport { Input, ServerErrors } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"../store/session\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Register extends Component {\n  state = { email: \"\", pass: \"\", pass_dup: \"\", full_name: \"\", errors: [] };\n\n  handleSubmit = (e) => {\n    const { email, pass, full_name } = this.state;\n    e.preventDefault();\n    //Call server\n    this.props.create({ email, pass, full_name });\n    this.setState({ pass: \"\", pass_dup: \"\" });\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"email\") {\n      this.setState({ email: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"password\") {\n      this.setState({ pass: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"pass_dup\") {\n      this.setState({ pass_dup: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"full_name\") {\n      this.setState({ full_name: e.currentTarget.value });\n    }\n  };\n\n  validate = () => {\n    const { email, pass, pass_dup } = this.state;\n    let errors = [];\n    if (email.trim() === \"\") {\n      errors.push(\"Please enter valid email address. \");\n    } else if (pass.trim() === \"\") {\n      errors.push(\"Please enter password. \");\n    } else if (pass_dup.trim() !== pass.trim()) {\n      errors.push(\"Passwords do not match. \");\n    }\n    this.setState({ errors: errors });\n  };\n\n  render() {\n    const { email, pass, pass_dup, full_name, errors } = this.state;\n    return (\n      <div className=\"container-sm\">\n        <ServerErrors errors={this.props.session.error} />\n        {this.props.session.token === \"user_created\" && (\n          <Redirect to=\"/login\" />\n        )}\n        <h1>Register</h1>\n        <br />\n        <form onSubmit={this.handleSubmit}>\n          <Input\n            value={email}\n            onChange={this.handleChange}\n            name=\"email\"\n            label=\"Email address\"\n            description=\"Enter a valid email address.\"\n          />\n          <Input\n            value={pass}\n            onChange={this.handleChange}\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            description=\"Enter your password.\"\n          />\n          <Input\n            value={pass_dup}\n            onChange={this.handleChange}\n            name=\"pass_dup\"\n            type=\"password\"\n            label=\"Re-enter Password\"\n            description=\"Please re-enter password.\"\n          />\n          <Input\n            value={full_name}\n            onChange={this.handleChange}\n            name=\"full_name\"\n            label=\"Full Name\"\n            description=\"(optional) Enter full name.\"\n          />\n\n          <button\n            disabled={errors.length}\n            type=\"submit\"\n            className=\"btn btn-primary\"\n          >\n            Register\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  create: ({ email, pass, full_name }) =>\n    dispatch(session.create({ email, pass, full_name })),\n});\n\nexport default connect(map_state, map_dispatch)(Register);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport NavBar from './components/navbar';\nimport LLReflectApp from './LLReflectApp';\nimport LLDayApp from './LLDayApp';\nimport { StatusBar } from './utils/utils'\nimport { LogIn, LogOut } from './components/login';\nimport Register from './components/register';\nimport { Container } from \"react-bootstrap\";\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <div>\n                <NavBar style={{ height: \"40px\" }} />\n                <Container fluid className=\"m-0 p-0\" style={{ height: \"calc(100vh - 70px)\" }}>\n                    <Switch>\n                        <Route path=\"/login\" component={LogIn} />\n                        <Route path=\"/logout\" component={LogOut} />\n                        <Route path=\"/register\" component={Register} />\n                        <Route path=\"/reflect\" component={LLReflectApp} />\n                        <Route path=\"/\" component={LLDayApp} />\n                    </Switch>\n                </Container>\n                <StatusBar style={{ height: \"30px\" }} />\n            </div>\n\n        </Provider>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter><App /></BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}