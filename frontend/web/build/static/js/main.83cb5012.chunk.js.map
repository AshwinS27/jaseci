{"version":3,"sources":["store/api.js","utils/utils.jsx","store/workette.js","store/session.js","store/store.js","store/middleware.js","components/navbar.jsx","components/wkt-button.jsx","components/wkt-item-single.jsx","components/wkt-item-list.jsx","utils/filters.jsx","components/wkt-item-set.jsx","components/wkt-note-set.jsx","components/wkt-link-set.jsx","components/wkt-worksets.jsx","components/wkt-add.jsx","components/wkt-note.jsx","components/wkt-item-single-form.jsx","components/wkt-item-move-form.jsx","components/workette.jsx","components/day.jsx","components/deep-mits.jsx","DayViews.jsx","LLReflectApp.jsx","LLDayApp.jsx","components/login.jsx","components/register.jsx","App.js","serviceWorker.js","index.js"],"names":["api_actions","url","status","method","data","type","payload","success_action","error_action","pass_through","pl","init_state","is_loading","saveDelayTimeout","id","func","clearTimeout","setTimeout","time_now","Date","toLocaleDateString","todays_date","toISOString","split","is_today","date","Input","name","label","value","onChange","description","extra_class","className","htmlFor","aria-describedby","Select","options","map","i","key","MultiSelect","multiple","CheckBox","checked","ServerErrors","errors","JSON","stringify","LoadingIndicator","Fragment","role","StatusBar","style","this","props","api","Component","move_arr_item","arr","old_index","new_index","length","k","push","undefined","splice","connect","state","wtype_options","apply_ordering","order","Array","isArray","filter","el","includes","idx","indexOf","ERROR","workette_actions","load_day","session","store","getState","api_act","snt","sentinel","nd","graph","ctx","set_workette","w_id","error_acmion","move_workette","dest_node","create_workette","delete_workette","parent_id","dummy_data","logout","load_workettes_from_payload","additions","x","jid","children","parent","item","context","error","days","items","LOGIN","LOGOUT","CREATE","session_actions","email","pass","full_name","password","code","logged_in","token","cur_date","jac_loaded","enhancers","compose","applyMiddleware","next","action","dispatch","a","axios","request","baseURL","process","response","report","message","messages","window","__REDUX_DEVTOOLS_EXTENSION__","f","reducers","combineReducers","workette","day","new_items","kids","last_written","old_parent","new_parent","v","d_idx","active_error","active","createStore","NavBar","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","WktButton","on_color","color","off_color","onClick","icon","WktItemSingle","self_expand","is_workset","toggle_MIT","val","is_MIT","toggle_ritual","is_ritual","toggle_canceled","toggle_done","toggle_running","is_workette","wtype","draggableId","index","provided","Container","fluid","draggableProps","ref","innerRef","Row","backgroundColor","Col","xs","faCheckSquare","dragHandleProps","setState","cursor","owner","faStar","faRunning","faSync","faTimesCircle","Collapse","in","unmountOnExit","href","note","target","str","RegExp","test","src","width","height","maxHeight","wact","WktItemList","handle_drag","result","source","destination","current","droppableId","src_idx","dest_idx","new_order","showable","kind","filter_func","onDragEnd","droppableProps","placeholder","workette_filters","scheduled_now","w","getDay","snooze_till","d1","d2","open","complete","running","canceled","allChildren","ret","deepMIT","deepCompleted","deepCanceled","deepRunning","WktItemSet","minWidth","w_filter","open_only","maxWidth","WktNotes","is_open","wkt_note","WktLinks","wkt_link","WktWorksets","wkt_workset","WktAddForm","title","handleSubmit","e","preventDefault","create","handleChange","currentTarget","prevProps","onSubmit","WktNoteForm","timeout","modules","toolbar","header","font","size","list","indent","clipboard","matchVisual","formats","updateStateLinked","saved","delta","handleLinkChange","validate","is_link","theme","WktItemSingleForm","update_func","handleRitChange","handleDelete","confirm","delete_func","WktItemMoveForm","all_potential_parents","bread_crumb","Workette","show_add","show_edit","show_move","show_note","update_workette","backgroundImage","faPlusSquare","faEdit","faBoxOpen","faStickyNote","faEye","Day","d","toDateString","load_mits","DeepMITs","ordered","DayViewLeft","today","change_date","map_state","DayViewRight","DayViewMain","LLReflectApp","defaults","headers","common","load_jac","history","overflowY","get","then","r","btoa","LLDayApp","show_left","show_right","sidebar_style","should_show","LogIn","login","trim","LogOut","wkt_logout","map_dispatch","Register","pass_dup","disabled","App","path","component","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.83cb5012.chunk.js","sourcesContent":["import axios from 'axios';\n\n// Action Types\nconst API_CALL = \"api_call\";\nconst API_SUCCESS = \"api_success\";\nconst API_FAIL = \"api_failed\";\nconst JSCI_BASE_URL = process.env.REACT_APP_JASECI_URL\n\n// Action Creators\nconst api_actions = {\n    call: ({ url, status, method, data, success_action, error_action, pass_through }) => ({\n        type: API_CALL,\n        payload: {\n            url,\n            status,\n            method: (method) ? method : \"get\",\n            data: (data) ? data : {},\n            success_action,\n            error_action,\n            pass_through\n        }\n    }),\n    success: (pl) => ({\n        type: API_SUCCESS,\n        payload: pl\n    }),\n    failed: (pl) => ({\n        type: API_FAIL,\n        payload: pl\n    }),\n}\n\n//Middleware for API calls that will hit store\nconst api_middleware = ({ dispatch, getState }) => next => async action => {\n    if (action.type !== \"api_call\") return next(action);\n    next(action);\n\n    const { url, method, data, success_action, error_action, pass_through }\n        = action.payload;\n\n    try {\n        const response = await axios.request({\n            baseURL: JSCI_BASE_URL,\n            url,\n            method,\n            data\n        });\n        response.data.pass_through = pass_through\n        dispatch(api_actions.success(response.data))\n        if (success_action)\n            dispatch({ type: success_action, payload: response.data })\n    } catch (error) {\n        const report = {};\n        if (error.message) report.messages = error.message;\n        if (error.response) report.response = error.response;\n        dispatch(api_actions.failed(report));\n        if (error_action)\n            dispatch({ type: error_action, payload: report })\n    }\n}\n\n// Reducers\nconst init_state = { is_loading: false }\nconst api_reducer = (state = init_state, action) => {\n    switch (action.type) {\n        case API_CALL:\n            const status = action.payload.status ? action.payload.status : \"Working\"\n            return { ...state, is_loading: status }\n        case API_FAIL:\n            return { ...state, is_loading: false }\n        case API_SUCCESS:\n            return { ...state, is_loading: false }\n        default:\n            return state;\n    }\n}\n\n\nexport { api_actions, api_middleware, api_reducer };","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nconst saveDelayTimeout = (id, func) => {\n  clearTimeout(id);\n  return setTimeout(() => func(), 1000);\n};\n\nconst time_now = () => new Date(new Date().toLocaleDateString());\n\nconst todays_date = () => time_now().toISOString().split(\"T\")[0];\n\nconst is_today = (date) => {\n  const dstr = new Date(date).toISOString().split(\"T\")[0];\n  return dstr === todays_date();\n};\n\n/* Generalized Input component for text input must provide value and\nand onChange for functionality */\nconst Input = ({\n  name,\n  type,\n  label,\n  value,\n  onChange,\n  description,\n  extra_class,\n}) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {label && <label htmlFor={name}>{label}</label>}\n      <input\n        value={value}\n        onChange={onChange}\n        name={name}\n        type={type}\n        className={\"form-control \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      />\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {description}\n      </small>\n    </div>\n  );\n};\n\nconst TextArea = ({\n  name,\n  type,\n  label,\n  value,\n  rows,\n  onChange,\n  description,\n  extra_class,\n}) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {label && <label htmlFor={name}>{label}</label>}\n      <textarea\n        value={value}\n        onChange={onChange}\n        name={name}\n        type={type}\n        rows={rows}\n        className={\"form-control \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      />\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {description}\n      </small>\n    </div>\n  );\n};\n\nconst Select = ({\n  name,\n  type,\n  label,\n  value,\n  options,\n  onChange,\n  description,\n  extra_class,\n}) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {label && <label htmlFor={name}>{label}</label>}\n      <select\n        value={value}\n        onChange={onChange}\n        name={name}\n        type={type}\n        className={\"form-control \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      >\n        {options.map((i) => (\n          <option key={i}>{i}</option>\n        ))}\n      </select>\n\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {description}\n      </small>\n    </div>\n  );\n};\n\nconst MultiSelect = ({\n  name,\n  type,\n  label,\n  value,\n  options,\n  onChange,\n  description,\n  extra_class,\n}) => {\n  return (\n    <div className=\"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      {label && <label htmlFor={name}>{label}</label>}\n      <select\n        multiple\n        value={value}\n        onChange={onChange}\n        name={name}\n        type={type}\n        className={\"form-control \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      >\n        {options.map((i) => (\n          <option key={i[0]} label={i[1]}>\n            {i[0]}\n          </option>\n        ))}\n      </select>\n\n      <small id=\"inputdesc\" className=\"form-text text-muted\">\n        {description}\n      </small>\n    </div>\n  );\n};\n\nconst CheckBox = ({ name, type, label, value, onChange, extra_class }) => {\n  return (\n    <div className=\"form-check form-check-inline m-0 pl-3 pr-3 pb-1 pb-1 pt-1\">\n      <input\n        checked={value ? true : false}\n        onChange={onChange}\n        name={name}\n        type=\"checkbox\"\n        className={\"form-check-input \" + extra_class}\n        id={name}\n        aria-describedby=\"inputdesc\"\n      />\n      <label className=\"form-check-label\" htmlFor={name}>\n        {label}\n      </label>\n    </div>\n  );\n};\n\nconst ServerErrors = ({ errors }) => {\n  return (\n    <div>\n      {errors && (\n        <div className=\"alert alert-danger\">\n          <pre>{JSON.stringify(errors, null, 2)}</pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst DEVBTN = ({ func, name }) => {\n  return (\n    <button className=\"btn btn-primary\" onClick={func}>\n      {name}\n    </button>\n  );\n};\n\nconst LoadingIndicator = ({ is_loading }) => {\n  return (\n    <React.Fragment>\n      {is_loading && (\n        <div>\n          &nbsp; &nbsp;\n          <div className=\"spinner-grow spinner-grow-sm\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n          &nbsp;\n          <small>{is_loading}...</small>\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nclass StatusBar extends Component {\n  render() {\n    return (\n      <footer className=\"footer\" style={this.props.style}>\n        <LoadingIndicator is_loading={this.props.api.is_loading} />\n      </footer>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst StatusBar_map_state = (state) => ({\n  api: state.api,\n});\n\nStatusBar = connect(StatusBar_map_state)(StatusBar);\n\nfunction move_arr_item(arr, old_index, new_index) {\n  while (old_index < 0) {\n    old_index += arr.length;\n  }\n  while (new_index < 0) {\n    new_index += arr.length;\n  }\n  if (new_index >= arr.length) {\n    let k = new_index - arr.length;\n    while (k-- + 1) {\n      arr.push(undefined);\n    }\n  }\n  arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n  return arr;\n}\n\nconst wtype_options = [\"workette\", \"link\", \"note\", \"workset\"];\n\n//Helper to keep sorting in workette lists\nfunction apply_ordering(order, arr) {\n  if (Array.isArray(order))\n    order\n      .filter((el) => arr.includes(el))\n      .map((i, idx) => (arr = move_arr_item(arr, arr.indexOf(i), idx)));\n  return arr;\n}\n\nfunction validURL(str) {\n  var pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?\" + // protocol\n    \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\" + // domain name\n    \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\" + // OR ip (v4) address\n    \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\" + // port and path\n    \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\" + // query string\n    \"(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\"\n  ); // fragment locator\n  return !!pattern.test(str);\n}\n\nexport {\n  time_now,\n  todays_date,\n  is_today,\n  saveDelayTimeout,\n  Input,\n  TextArea,\n  Select,\n  MultiSelect,\n  CheckBox,\n  ServerErrors,\n  LoadingIndicator,\n  DEVBTN,\n  StatusBar,\n  move_arr_item,\n  wtype_options,\n  apply_ordering,\n  validURL,\n};\n","import { api_actions as api_act } from \"./api\";\nimport { time_now, apply_ordering } from \"../utils/utils\"\nimport store from './store';\n\n// Action Types\nconst LOAD_DAY = \"load_day\";\n// const LOAD_MITs = \"load_deep_mits\";\n// const LOAD_WORKETTE = \"load_workette\";\nconst SET_WORKETTE = \"update_workette\";\nconst MOVE_WORKETTE = \"move_workette\";\nconst CREATE_WORKETTE = \"create_workette\";\nconst DELETE_WORKETTE = \"delete_workette\";\nconst DUMMY_DATA = \"generate_dummy_data\";\nconst ERROR = \"workette_op_error\";\nconst WKT_LOGOUT = \"workette_log_out\";\n\n\n// Action Creators\nconst workette_actions = {\n    load_day: (date) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Loading Day\",\n            method: \"post\",\n            data: { name: \"get_gen_day\", snt: session.sentinel, nd: session.graph, ctx: { date: date } },\n            success_action: LOAD_DAY,\n            error_action: ERROR\n        });\n    },\n    // load_mits: (w_id) => {\n    //     const { session } = store.getState();\n    //     return api_act.call({\n    //         url: \"/jac/prime_run\",\n    //         method: \"post\",\n    //         data: { name: \"deep_mits\", snt: session.sentinel, nd: w_id, ctx: {} },\n    //         success_action: LOAD_MITs,\n    //         error_action: ERROR,\n    //         pass_through: { w_id: w_id }\n    //     });\n    // },\n    // load_workette: (w_id) => {\n    //     const { session } = store.getState();\n    //     return api_act.call({\n    //         url: \"/jac/prime_run\",\n    //         method: \"post\",\n    //         data: { name: \"load_workette\", snt: session.sentinel, nd: w_id, ctx: {} },\n    //         success_action: LOAD_WORKETTE,\n    //         error_action: ERROR\n    //     });\n    // },\n    set_workette: (w_id, ctx) => {\n        return api_act.call({\n            url: \"/jac/set_node_context\",\n            status: \"Updating Workette\",\n            method: \"post\",\n            data: { nd: w_id, ctx: ctx },\n            success_action: SET_WORKETTE,\n            error_acmion: ERROR\n        });\n    },\n    move_workette: (w_id, dest_node) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Moving Workette\",\n            method: \"post\",\n            data: { name: \"move_workette\", snt: session.sentinel, nd: w_id, ctx: { dest_node: dest_node } },\n            success_action: MOVE_WORKETTE,\n            error_action: ERROR,\n            pass_through: { w_id: w_id, dest_node: dest_node }\n        });\n    },\n    create_workette: (w_id, ctx) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Creating Workette\",\n            method: \"post\",\n            data: { name: \"create_workette\", snt: session.sentinel, nd: w_id, ctx: ctx },\n            success_action: CREATE_WORKETTE,\n            error_action: ERROR,\n            pass_through: { w_id: w_id }\n        });\n    },\n    delete_workette: (w_id, parent_id) => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            status: \"Deleting Workette\",\n            method: \"post\",\n            data: { name: \"delete_workette\", snt: session.sentinel, nd: w_id, ctx: {} },\n            success_action: DELETE_WORKETTE,\n            error_action: ERROR,\n            pass_through: { w_id: w_id, parent_id: parent_id }\n        });\n    },\n    dummy_data: () => {\n        const { session } = store.getState();\n        return api_act.call({\n            url: \"/jac/prime_run\",\n            method: \"post\",\n            data: { name: \"gen_rand_life\", snt: session.sentinel, nd: session.graph, ctx: {} },\n            success_action: DUMMY_DATA,\n            error_action: ERROR\n        })\n    },\n    logout: () => ({\n        type: WKT_LOGOUT\n    }),\n}\n\n\n\n\n//Reducer Helpers\nconst load_workettes_from_payload = (pl) => {\n    let additions = {}\n    pl.map(x => {\n        additions[x[1].jid] = x[1];\n        additions[x[1].jid].children = [];\n        const parent_id = 'urn:uuid:' + x[0];\n        additions[x[1].jid].parent = parent_id;\n        if (parent_id in additions)\n            additions[parent_id].children.push(x[1].jid)\n    });\n    for (const i in additions) {\n        const item = additions[i];\n        if (item.children)\n            item.children = apply_ordering(item.context.order, [...item.children])\n    }\n    return additions;\n}\n\n\n\n// Reducers\nconst init_state = { error: \"\", status: \"\", days: {}, items: {} }\nconst workette_reducer = (state = init_state, action) => {\n    switch (action.type) {\n        case LOAD_DAY:\n            {\n                const pl = action.payload;\n                const additions = load_workettes_from_payload(pl);\n                return {\n                    ...state,\n                    //DB of workettes for session\n                    items: { ...state.items, ...additions },\n                    days: { ...state.days, [pl[0][1].context.day.split('T')[0]]: pl[0][1].jid }\n                };\n\n            }\n        // case LOAD_MITs:\n        //     {\n        //         const pl = action.payload;\n        //         const { w_id } = action.payload.pass_through;\n        //         let additions = {}\n        //         let mit_list = [];\n        //         pl.map(x => { additions[x.jid] = x; mit_list.push(x.jid); });\n        //         additions[w_id] = state.items[w_id];\n        //         additions[w_id].deep_mits = mit_list;\n        //         return {\n        //             ...state,\n        //             //DB of workettes for session\n        //             items: { ...state.items, ...additions },\n        //         };\n        //     }\n        // case LOAD_WORKETTE:\n        //     {\n        //         const pl = action.payload;\n        //         const additions = load_workettes_from_payload(pl);\n        //         return {\n        //             ...state,\n        //             //DB of workettes for session\n        //             items: { ...state.items, ...additions },\n        //         };\n        //     }\n        case SET_WORKETTE:\n            {\n                let new_items = { ...state.items };\n                const kids = new_items[action.payload.jid].children\n                const parent = new_items[action.payload.jid].parent\n                new_items[action.payload.jid] = action.payload;\n                new_items[action.payload.jid].children =\n                    apply_ordering(action.payload.context.order, kids);\n                new_items[action.payload.jid].parent = parent;\n                new_items[action.payload.jid].context.last_written = time_now()\n\n                return {\n                    ...state,\n                    items: { ...new_items },\n                }\n            }\n        case MOVE_WORKETTE:\n            {\n                let new_items = { ...state.items };\n                const kids = new_items[action.payload[0].jid].children\n                const old_parent = new_items[action.payload[0].jid].parent;\n                const new_parent = action.payload.pass_through.dest_node;\n                new_items[action.payload[0].jid] = action.payload[0];\n                new_items[action.payload[0].jid].children =\n                    apply_ordering(action.payload[0].context.order, kids);\n                new_items[action.payload[0].jid].parent = new_parent;\n                new_items[old_parent].children = new_items[old_parent].children.filter(v => v !== action.payload[0].jid)\n                new_items[new_parent].children.push(action.payload[0].jid)\n                return {\n                    ...state,\n                    items: { ...new_items },\n                }\n            }\n        case CREATE_WORKETTE:\n            {\n                action.payload[0].children = []\n                action.payload[0].parent = action.payload.pass_through.w_id\n                let new_items = { ...state.items, [action.payload[0].jid]: action.payload[0] };\n                new_items[action.payload.pass_through.w_id].children.push(action.payload[0].jid)\n                return {\n                    ...state,\n                    items: { ...new_items },\n                };\n            }\n        case DELETE_WORKETTE:\n            {\n                let new_items = { ...state.items };\n                delete new_items[action.payload.pass_through.w_id];\n                const d_idx = new_items[action.payload.pass_through.parent_id].children.indexOf(action.payload.pass_through.w_id);\n                new_items[action.payload.pass_through.parent_id].children.splice(d_idx, 1);\n                return {\n                    ...state,\n                    items: { ...new_items },\n                };\n            }\n        case ERROR:\n            return { ...state, error: action.payload }\n        case WKT_LOGOUT:\n            return { ...init_state }\n        default:\n            return state;\n    }\n}\n\nexport { workette_reducer, workette_actions };","import { api_actions as api_act } from \"./api\";\nimport { todays_date } from \"../utils/utils\"\n\n//Action Types\nconst LOGIN = \"user_log_in\"\nconst LOGOUT = \"user_log_out\"\nconst CREATE = \"user_created\"\nconst CHANGE_DATE = \"change_date\"\nconst LOAD_JAC = \"load_jac_code\"\nconst ERROR = \"user_session_error\"\n\n//Action Creators\nconst session_actions = {\n    create: ({ email, pass, full_name }) =>\n        api_act.call({\n            url: \"/user/create/\",\n            method: \"post\",\n            data: { email, password: pass, name: full_name },\n            success_action: CREATE,\n            error_action: ERROR\n        }),\n    login: ({ email, pass }) =>\n        api_act.call({\n            url: \"/user/token/\",\n            method: \"post\",\n            data: { email, password: pass },\n            success_action: LOGIN,\n            error_action: ERROR\n        }),\n    load_jac: (code) =>\n        api_act.call({\n            url: \"/jac/load_application\",\n            method: \"post\",\n            data: { name: \"lifelogify\", code },\n            success_action: LOAD_JAC,\n            error_action: ERROR\n        }),\n    change_date: (date) => ({\n        type: CHANGE_DATE,\n        payload: { date }\n    }),\n    logout: () => ({\n        type: LOGOUT\n    }),\n    error: (pl) => ({\n        type: ERROR,\n        payload: pl\n    }),\n}\n\n//Reducers\nconst init_state = {\n    error: \"\", logged_in: false, token: \"\",\n    cur_date: todays_date(),\n    jac_loaded: false, sentinel: null, graph: null\n}\nconst session_reducer = (state = init_state, action) => {\n    switch (action.type) {\n        case LOGIN:\n            return {\n                ...state, error: \"\", token: action.payload.token,\n                logged_in: true\n            };\n        case LOGOUT:\n            return {\n                ...init_state\n            };\n        case CREATE:\n            return { ...state, error: \"\", token: \"user_created\", logged_in: false };\n        case CHANGE_DATE:\n            return { ...state, cur_date: action.payload.date.toISOString().split(\"T\")[0] };\n        case LOAD_JAC:\n            //Check first that LL Jac code compiled on server\n            let active_error = \"\";\n            const { sentinel, graph, active } = action.payload;\n            if (!active)\n                active_error = \"CRITICAL: LL JAC NOT ACTIVE\";\n            return {\n                ...state, error: active_error, jac_loaded: active_error === \"\",\n                sentinel: sentinel.split(\":\")[2], graph: graph.split(\":\")[2]\n            };\n        case ERROR:\n            return { ...state, error: action.payload };\n        default:\n            return state;\n    }\n}\n\nexport { session_actions, session_reducer };","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport { workette_reducer } from './workette';\nimport { session_reducer } from './session';\nimport { logger /*, func*/ } from './middleware';\nimport { api_middleware, api_reducer } from './api';\n\nconst enhancers = compose(applyMiddleware(logger, /*func,*/ api_middleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f);\n\n\nconst reducers = combineReducers({\n    workette: workette_reducer,\n    session: session_reducer,\n    api: api_reducer,\n});\n\nconst store = createStore(reducers, enhancers);\n\nexport default store;","const logger = store => next => action => {\n    next(action);\n}\n\n//Middleware to convert functions to action objects for reducers\nconst func = ({ dispatch, getState }) => next => action => {\n    if (typeof action === 'function') action(dispatch, getState);\n    else next(action);\n}\n\nexport { logger, func };","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { LoadingIndicator } from \"../utils/utils\";\n\nclass NavBar extends Component {\n  render() {\n    return (\n      <nav\n        className=\"navbar navbar-default navbar-expand-lg navbar-light bg-light\"\n        role=\"navigation\"\n        style={this.props.style}\n      >\n        <Link className=\"navbar-brand\" to=\"/\">\n          LL\n        </Link>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          {!this.props.session.logged_in && (\n            <React.Fragment>\n              <ul className=\"nav navbar-nav  ml-auto\">\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/login\">\n                    Login\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/register\">\n                    Register\n                  </Link>\n                </li>\n              </ul>\n            </React.Fragment>\n          )}\n          {this.props.session.logged_in && (\n            <React.Fragment>\n              <ul className=\"nav navbar-nav\">\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/\">\n                    Day\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/reflect\">\n                    Reflect\n                  </Link>\n                </li>\n              </ul>\n              <ul className=\"nav navbar-nav ml-auto\">\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/logout\">\n                    Logout\n                  </Link>\n                </li>\n              </ul>\n            </React.Fragment>\n          )}\n\n          {/* <div className=\"d-inline\">\n            <LoadingIndicator is_loading={this.props.api.is_loading} />\n          </div> */}\n        </div>\n      </nav>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n  api: state.api,\n});\n\nexport default connect(map_state)(NavBar);\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass WktButton extends Component {\n  on_color = { color: \"#000\" };\n  off_color = { color: \"#aaa\" };\n  render() {\n    return (\n      <span className=\"ml-1\" onClick={this.props.onClick}>\n        <FontAwesomeIcon\n          icon={this.props.icon}\n          style={this.props.status ? this.on_color : this.off_color}\n        />\n      </span>\n    );\n  }\n}\n\nexport default WktButton;\n","import React, { Component } from \"react\";\nimport { Draggable } from \"react-beautiful-dnd\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Collapse } from \"react-bootstrap\";\n\nimport Workette from \"./workette\";\nimport { is_today, validURL } from \"../utils/utils\";\nimport WktButton from \"./wkt-button\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport {\n  faCheckSquare,\n  faTimesCircle,\n  faSync,\n  faStar,\n  faRunning,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport \"x-frame-bypass\";\n\nclass WktItemSingle extends Component {\n  state = {\n    self_expand: this.props.is_workset ? false : false,\n  };\n\n  toggle_MIT = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    const val = this.props.item.context.is_MIT;\n    this.props.set_workette(item.jid, { is_MIT: !val });\n  };\n\n  toggle_ritual = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    const val = this.props.item.context.is_ritual\n      ? false\n      : [1, 1, 1, 1, 1, 1, 1]; //Bitmap for days of the week maps to getDay func\n    this.props.set_workette(item.jid, { is_ritual: val });\n  };\n\n  toggle_canceled = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    let val = this.props.item.context.status;\n    if (val === \"canceled\") val = \"open\";\n    else val = \"canceled\";\n    this.props.set_workette(item.jid, { status: val });\n  };\n\n  toggle_done = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    let val = this.props.item.context.status;\n    if (val === \"done\") val = \"open\";\n    else val = \"done\";\n    this.props.set_workette(item.jid, { status: val });\n  };\n\n  toggle_running = (item) => {\n    if (!is_today(this.props.session.cur_date)) return;\n    let val = this.props.item.context.status;\n    if (val === \"running\") val = \"open\";\n    else val = \"running\";\n    this.props.set_workette(item.jid, { status: val });\n  };\n\n  render() {\n    const { item } = this.props;\n    let color = this.props.color ? this.props.color : \"#ffffff\";\n\n    const is_workette =\n      item.context.wtype !== \"workset\" &&\n      item.context.wtype !== \"note\" &&\n      item.context.wtype !== \"link\";\n\n    return (\n      <Draggable draggableId={item.jid} index={this.props.index}>\n        {(provided) => (\n          <React.Fragment>\n            {this.props.is_workset && <br />}\n            <Container\n              fluid\n              {...provided.draggableProps}\n              ref={provided.innerRef}\n              className=\"border\"\n            >\n              <Row\n                className=\"d-flex justify-content-between \"\n                style={{ backgroundColor: color }}\n              >\n                {is_workette && (\n                  <Col xs=\"auto\" className=\"m-0 p-0\">\n                    <WktButton\n                      icon={faCheckSquare}\n                      status={item.context.status === \"done\"}\n                      onClick={() => this.toggle_done(item)}\n                    />\n                  </Col>\n                )}\n                <Col className=\"m-0 p-0\">\n                  <div\n                    className=\"d-inline-flex ml-1\"\n                    {...provided.dragHandleProps}\n                    onClick={() => {\n                      this.setState({\n                        self_expand: !this.state.self_expand,\n                      });\n                    }}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    {item.context.owner && (\n                      <span>[{item.context.owner}]&nbsp;</span>\n                    )}\n                    {this.state.self_expand && (\n                      <strong>{item.context.name}</strong>\n                    )}\n                    {!this.state.self_expand && item.context.name}\n                  </div>\n                </Col>\n                {/* <Col>\n                  <small>\n                    {item.children.length && item.children.length} Open\n                  </small>\n                </Col>\n                <Col>\n                  <small>\n                    {item.children.length && item.children.length} Completed\n                  </small>\n                </Col> */}\n                <Col xs=\"auto\" className=\"m-0 p-0\">\n                  <WktButton\n                    icon={faStar}\n                    status={item.context.is_MIT}\n                    onClick={() => this.toggle_MIT(item)}\n                  />\n                  {is_workette && (\n                    <React.Fragment>\n                      <WktButton\n                        icon={faRunning}\n                        status={item.context.status === \"running\"}\n                        onClick={() => this.toggle_running(item)}\n                      />\n                      <WktButton\n                        icon={faSync}\n                        status={item.context.is_ritual}\n                        onClick={() => this.toggle_ritual(item)}\n                      />\n                    </React.Fragment>\n                  )}\n                  <WktButton\n                    icon={faTimesCircle}\n                    status={item.context.status === \"canceled\"}\n                    onClick={() => this.toggle_canceled(item)}\n                  />\n                  <div\n                    {...provided.dragHandleProps}\n                    className=\"d-inline-flex\"\n                  ></div>\n                </Col>\n              </Row>\n\n            </Container>\n            <Collapse in={this.state.self_expand} unmountOnExit={true}>\n              <div>\n                <div>\n                  <Workette w_id={item.jid} />\n                </div>\n                {item.context.wtype === \"link\" && (\n                  <div>\n                    <a href={item.context.note} target=\"_blank\">\n                      Pop out to tab\n                      </a>\n                    {validURL(item.context.note) && (\n                      <iframe\n                        src={item.context.note}\n                        style={{\n                          width: \"100%\",\n                          height: \"800px\",\n                          maxHeight: \"80vh\",\n                        }}\n                      />\n                    )}\n                  </div>\n                )}\n              </div>\n            </Collapse>\n          </React.Fragment>\n        )}\n      </Draggable>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n});\n\nexport default connect(map_state, map_dispatch)(WktItemSingle);\n","import React, { Component } from \"react\";\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\nimport WktItemSingle from \"./wkt-item-single\";\n\nimport { workette_actions as wact } from \"../store/workette\";\nimport { is_today, move_arr_item } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nclass WktItemList extends Component {\n  handle_drag = (result) => {\n    const { source, destination, draggableId } = result;\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { children } = items[current];\n    if (\n      !is_today(this.props.session.cur_date) ||\n      !destination ||\n      source.droppableId !== destination.droppableId ||\n      source.index === destination.index\n    )\n      return;\n    const src_idx = children.indexOf(draggableId);\n    const dest_idx = children.indexOf(children[destination.index]);\n    const new_order = move_arr_item(children, src_idx, dest_idx);\n    this.props.set_workette(current, {\n      order: new_order,\n    });\n  };\n\n  showable = (item) => {\n    if (!item.kind === \"workette\") return false;\n    if (!this.props.filter_func(item)) return false;\n    return true;\n  };\n\n  render() {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { children } = items[current];\n\n    return (\n      <React.Fragment>\n        <DragDropContext onDragEnd={this.handle_drag}>\n          <Droppable droppableId={current}>\n            {(provided) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                {children &&\n                  children.map((i, idx) => (\n                    <React.Fragment key={items[i].jid}>\n                      {this.showable(items[i]) && (\n                        <WktItemSingle\n                          item={items[i]}\n                          index={idx}\n                          is_workset={this.props.is_workset}\n                          color={this.props.color}\n                        />\n                      )}\n                    </React.Fragment>\n                  ))}\n\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </React.Fragment>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n});\n\nexport default connect(map_state, map_dispatch)(WktItemList);\n","import store from \"../store/store\";\n\nconst workette_filters = {\n  scheduled_now: function (w) {\n    const { session } = store.getState();\n    const ctx = w.context;\n    if (\n      ctx.is_ritual &&\n      !ctx.is_ritual[new Date(store.getState().session.cur_date).getDay()]\n    )\n      if (ctx.status === \"done\") return true;\n      else return false;\n\n    if (ctx.snooze_till) {\n      let d1 = new Date(ctx.snooze_till);\n      let d2 = new Date(session.cur_date);\n      if (ctx.snooze_till && d1 > d2) return false;\n    }\n    return true;\n  },\n\n  open: function (w) {\n    if (!workette_filters.scheduled_now(w)) return false;\n    const ctx = w.context;\n    if (!ctx.status || ctx.status === \"open\")\n      if (!ctx.wtype || ctx.wtype === \"workette\" || ctx.wtype == \"none\")\n        return true;\n    return false;\n  },\n\n  complete: function (w) {\n    const ctx = w.context;\n    if (ctx.status === \"done\") return true;\n    return false;\n  },\n\n  running: function (w) {\n    const ctx = w.context;\n    if (ctx.status === \"running\") return true;\n    return false;\n  },\n\n  canceled: function (w) {\n    const ctx = w.context;\n    if (ctx.status === \"canceled\") return true;\n    return false;\n  },\n\n  allChildren: function (w) {\n    const { items } = store.getState().workette;\n    let ret = [];\n    if (!w || !w.children) return ret;\n    w.children.map((x) => {\n      ret.push(...workette_filters.allChildren(items[x]));\n    });\n    ret.push(w);\n    return ret;\n  },\n\n  deepMIT: function () {\n    const { items } = store.getState().workette;\n    const current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (\n        k.context.is_MIT &&\n        workette_filters.open(k) &&\n        workette_filters.scheduled_now(k)\n      )\n        ret.push(k.jid);\n    });\n    return ret;\n  },\n\n  deepCompleted: function () {\n    const { items } = store.getState().workette;\n    const current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (k.context.status === \"done\") ret.push(k.jid);\n    });\n    return ret;\n  },\n\n  deepCanceled: function () {\n    const { items } = store.getState().workette;\n    const current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (k.context.status === \"canceled\") ret.push(k.jid);\n    });\n    return ret;\n  },\n\n  deepRunning: function () {\n    const { items } = store.getState().workette;\n    const current =\n      items[store.getState().workette.days[store.getState().session.cur_date]];\n    let ret = [];\n    workette_filters.allChildren(current).map((k) => {\n      if (k.context.status === \"running\") ret.push(k.jid);\n    });\n    return ret;\n  },\n};\n\nexport { workette_filters };\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { faSlash } from \"@fortawesome/free-solid-svg-icons\";\nimport { workette_filters as w_filter } from \"../utils/filters\";\n\nclass WktItemSet extends Component {\n  render() {\n    return (\n      <Container fluid className=\"mr-0 pr-0\">\n        <Row>\n          <Col style={{ minWidth: \"300px\" }}>\n            <WktItemList filter_func={w_filter.open} w_id={this.props.w_id} />\n            <WktItemList\n              filter_func={w_filter.running}\n              w_id={this.props.w_id}\n              color=\"#ededff\"\n            />\n          </Col>\n          {!this.props.open_only && (\n            <Col style={{ maxWidth: \"36%\", minWidth: \"300px\" }}>\n              <WktItemList\n                filter_func={w_filter.complete}\n                w_id={this.props.w_id}\n                color=\"#edffed\"\n              />\n\n              <WktItemList\n                filter_func={(w) => !w_filter.scheduled_now(w)}\n                w_id={this.props.w_id}\n                color=\"#ffffed\"\n              />\n              <WktItemList\n                filter_func={w_filter.canceled}\n                w_id={this.props.w_id}\n                color=\"#ffeeee\"\n              />\n            </Col>\n          )}\n        </Row>\n      </Container>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nexport default connect(map_state)(WktItemSet);\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container } from \"react-bootstrap\";\n\nclass WktNotes extends Component {\n  wkt_note(w) {\n    const ctx = w.context;\n    const is_open = ctx.status === \"open\" || !ctx.status;\n    if (ctx.wtype && ctx.wtype === \"note\" && is_open) return true;\n    return false;\n  }\n\n  render() {\n    return (\n      <Container fluid>\n        <WktItemList\n          filter_func={this.wkt_note}\n          w_id={this.props.w_id}\n          color=\"#eeeeee\"\n        />\n      </Container>\n    );\n  }\n}\n\nexport default WktNotes;\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container } from \"react-bootstrap\";\n\nclass WktLinks extends Component {\n  wkt_link(w) {\n    const ctx = w.context;\n    const is_open = ctx.status === \"open\" || !ctx.status;\n    if (ctx.wtype && ctx.wtype === \"link\" && is_open) return true;\n    return false;\n  }\n\n  render() {\n    return (\n      <Container fluid className=\"mt-3\">\n        <WktItemList\n          filter_func={this.wkt_link}\n          w_id={this.props.w_id}\n          color=\"#ededff\"\n        />\n      </Container>\n    );\n  }\n}\n\nexport default WktLinks;\n","import React, { Component } from \"react\";\nimport WktItemList from \"./wkt-item-list\";\nimport { Container } from \"react-bootstrap\";\n\nclass WktWorksets extends Component {\n  wkt_workset(w) {\n    const ctx = w.context;\n    const is_open = ctx.status === \"open\" || !ctx.status;\n    if (ctx.wtype && ctx.wtype === \"workset\" && is_open) return true;\n    return false;\n  }\n\n  render() {\n    return (\n      <Container fluid className=\"mr-0 pr-0\">\n        <WktItemList\n          filter_func={this.wkt_workset}\n          w_id={this.props.w_id}\n          is_workset={true}\n          color=\"#ffefcd\"\n        />\n      </Container>\n    );\n  }\n}\n\nexport default WktWorksets;\n","import React, { Component } from \"react\";\nimport { Input, Select, is_today, wtype_options } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nclass WktAddForm extends Component {\n  state = { title: \"\", wtype: \"\" };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.w_id !== prevProps.w_id) {\n      this.setState({ title: \"\", wtype: \"\" });\n    }\n  }\n\n  handleSubmit = (e) => {\n    const current = this.props.w_id;\n    e.preventDefault();\n    if (is_today(this.props.session.cur_date))\n      //Call Server\n      this.props.create(current, this.state);\n    this.setState({ title: \"\" });\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"add\") {\n      this.setState({ title: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"wtype\") {\n      this.setState({ wtype: e.currentTarget.value });\n    }\n  };\n\n  render() {\n    const { title, wtype } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <Row>\n          <Col>\n            <Input\n              value={title}\n              onChange={this.handleChange}\n              name=\"add\"\n              extra_class=\"form-control-sm\"\n              description=\"Add a new workette. Press enter to add.\"\n            />\n          </Col>\n          <Col className=\"col-md-auto\">\n            <Select\n              value={wtype}\n              onChange={this.handleChange}\n              name=\"wtype\"\n              options={wtype_options}\n              extra_class=\"form-control-sm\"\n              description=\"Enter type of workette.\"\n            />\n          </Col>\n        </Row>\n      </form>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  create: (w_id, title) => dispatch(wact.create_workette(w_id, title)),\n});\n\nexport default connect(map_state, map_dispatch)(WktAddForm);\n","import React, { Component } from \"react\";\nimport { Input, saveDelayTimeout, is_today } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { Container } from \"react-bootstrap\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.bubble.css\";\nimport \"react-quill/dist/quill.snow.css\";\n\nclass WktNoteForm extends Component {\n  state = { timeout: null, note: \"\", last_written: null };\n\n  modules = {\n    toolbar: [\n      [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\n      [{ size: [] }],\n      [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n      [\n        { list: \"ordered\" },\n        { list: \"bullet\" },\n        { indent: \"-1\" },\n        { indent: \"+1\" },\n      ],\n      [\"link\", \"image\", \"video\"],\n      [\"clean\"],\n    ],\n    clipboard: {\n      // toggle to add extra line breaks when pasting HTML:\n      matchVisual: false,\n    },\n  };\n\n  formats = [\n    \"header\",\n    \"font\",\n    \"size\",\n    \"bold\",\n    \"italic\",\n    \"underline\",\n    \"strike\",\n    \"blockquote\",\n    \"list\",\n    \"bullet\",\n    \"indent\",\n    \"link\",\n    \"video\",\n  ];\n\n  updateStateLinked = () => {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { note, last_written } = items[current].context;\n    this.setState({\n      note: note ? note : \"\",\n      last_written: last_written ? last_written : null,\n    });\n  };\n  componentDidMount() {\n    this.updateStateLinked();\n  }\n\n  componentDidUpdate() {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const { last_written } = items[current].context;\n    if (last_written && last_written > this.state.last_written)\n      this.updateStateLinked();\n  }\n\n  handleSubmit = (e = false) => {\n    if (e) e.preventDefault();\n    const { note } = this.state;\n    const current = this.props.w_id;\n    if (!is_today(this.props.session.cur_date)) return;\n    //Call Server\n    this.props.set_workette(current, { note });\n    setTimeout(() => this.setState({ ...this.state, saved: false }), 1000);\n  };\n\n  handleChange = (value, delta, source) => {\n    if (source === \"user\")\n      this.setState({\n        note: value,\n        timeout: saveDelayTimeout(this.state.timeout, () =>\n          this.handleSubmit()\n        ),\n      });\n  };\n\n  handleLinkChange = (e) => {\n    if (e.currentTarget.name === \"note\") {\n      this.setState({\n        note: e.currentTarget.value,\n        timeout: saveDelayTimeout(this.state.timeout, () =>\n          this.handleSubmit(e)\n        ),\n      });\n    }\n  };\n\n  validate = () => {};\n\n  render() {\n    const { note } = this.state;\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n\n    const is_link =\n      items[current].context.wtype && items[current].context.wtype === \"link\";\n\n    return (\n      <Container fluid>\n        <form onSubmit={this.handleSubmit}>\n          {is_link && (\n            <Input\n              value={note}\n              onChange={this.handleLinkChange}\n              extra_class=\"form-control-sm\"\n              name=\"note\"\n              description=\"Link URL\"\n            />\n          )}\n          {!is_link && (\n            <div>\n              <br />\n              <Container\n                fluid\n                className=\"border rounded m-0 p-0\"\n                style={{ backgroundColor: \"white\" }}\n              >\n                <ReactQuill\n                  value={note}\n                  onChange={this.handleChange}\n                  //modules={this.modules}\n                  formats={this.formats}\n                  theme=\"bubble\"\n                  placeholder={\"Write something...\"}\n                />\n              </Container>\n            </div>\n          )}\n        </form>\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n});\n\nexport default connect(map_state, map_dispatch)(WktNoteForm);\n","import React, { Component } from \"react\";\nimport {\n  Input,\n  Select,\n  CheckBox,\n  saveDelayTimeout,\n  wtype_options,\n} from \"../utils/utils\";\nimport { Collapse, Container, Row, Col } from \"react-bootstrap\";\n\nclass WktItemSingleForm extends Component {\n  state = {\n    timeout: null,\n    name: \"\",\n    owner: \"\",\n    wtype: \"\",\n    snooze_till: \"\",\n    is_ritual: false,\n    last_written: null,\n  };\n\n  updateStateLinked = () => {\n    const {\n      name,\n      owner,\n      wtype,\n      is_ritual,\n      snooze_till,\n      last_written,\n    } = this.props.item.context;\n    this.setState({\n      name: name ? name : \"\",\n      owner: owner ? owner : \"\",\n      wtype: wtype ? wtype : \"\",\n      snooze_till: snooze_till ? snooze_till : \"\",\n      is_ritual: is_ritual ? is_ritual : false,\n      last_written: last_written ? last_written : null,\n    });\n  };\n\n  componentDidUpdate() {\n    const { last_written } = this.props.item.context;\n    if (last_written && last_written > this.state.last_written)\n      this.updateStateLinked();\n  }\n\n  componentDidMount() {\n    this.updateStateLinked();\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.update_func(this.state);\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"name\") {\n      this.setState({ name: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"owner\") {\n      this.setState({ owner: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"wtype\") {\n      this.setState({ wtype: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"snooze_till\") {\n      this.setState({ snooze_till: e.currentTarget.value });\n    }\n    this.setState({\n      timeout: saveDelayTimeout(this.state.timeout, () => this.handleSubmit(e)),\n    });\n  };\n\n  handleRitChange = (e) => {\n    let { is_ritual } = this.state;\n    //If ritual deactivated, reactivate\n    if (!is_ritual) {\n      is_ritual = [1, 1, 1, 1, 1, 1, 1];\n    }\n    switch (e.currentTarget.name) {\n      case \"mon\":\n        is_ritual[0] = !is_ritual[0];\n        break;\n      case \"tues\":\n        is_ritual[1] = !is_ritual[1];\n        break;\n      case \"wed\":\n        is_ritual[2] = !is_ritual[2];\n        break;\n      case \"thurs\":\n        is_ritual[3] = !is_ritual[3];\n        break;\n      case \"fri\":\n        is_ritual[4] = !is_ritual[4];\n        break;\n      case \"sat\":\n        is_ritual[5] = !is_ritual[5];\n        break;\n      case \"sun\":\n        is_ritual[6] = !is_ritual[6];\n        break;\n      default:\n        break;\n    }\n    //If no day set for ritual turn ritual off\n    if (!is_ritual.filter((i) => i).length) is_ritual = false;\n    this.setState({ is_ritual: is_ritual });\n    this.setState({\n      timeout: saveDelayTimeout(this.state.timeout, () => this.handleSubmit(e)),\n    });\n  };\n\n  handleDelete = (e) => {\n    e.preventDefault();\n    if (window.confirm(\"Are you sure?\")) {\n      this.props.delete_func();\n    }\n  };\n\n  render() {\n    const { name, owner, wtype, snooze_till } = this.state;\n    let { is_ritual } = this.state;\n\n    //Detected if ritual turned on elsewhere then set checkbox values\n    const true_rit = this.props.item.context.is_ritual;\n    if (true_rit && !is_ritual) {\n      is_ritual = this.props.item.context.is_ritual;\n    }\n\n    return (\n      <Container fluid>\n        <form onSubmit={this.handleSubmit}>\n          <Row>\n            <Input\n              value={name}\n              onChange={this.handleChange}\n              name=\"name\"\n              extra_class=\"form-control-sm\"\n              description=\"Enter title of workette.\"\n            />\n            &nbsp;&nbsp;\n            <Select\n              value={wtype}\n              onChange={this.handleChange}\n              name=\"wtype\"\n              options={wtype_options}\n              extra_class=\"form-control-sm\"\n              description=\"Enter type of workette.\"\n            />\n          </Row>\n          <Row>\n            <Input\n              value={owner}\n              onChange={this.handleChange}\n              name=\"owner\"\n              extra_class=\"form-control-sm\"\n              description=\"Enter workette owner.\"\n            />\n            &nbsp;&nbsp;\n            <Input\n              value={snooze_till}\n              type=\"date\"\n              onChange={this.handleChange}\n              name=\"snooze_till\"\n              extra_class=\"form-control-sm\"\n              description=\"Enter date for workette.\"\n            />\n          </Row>\n\n          <Collapse in={this.props.item.context.is_ritual ? true : false}>\n            <Row>\n              <small>\n                <div>Ritual recurs every</div>\n\n                <CheckBox\n                  value={is_ritual[0]}\n                  onChange={this.handleRitChange}\n                  name=\"mon\"\n                  label=\"Monday\"\n                />\n                <CheckBox\n                  value={is_ritual[1]}\n                  onChange={this.handleRitChange}\n                  name=\"tues\"\n                  label=\"Tuesday\"\n                />\n                <CheckBox\n                  value={is_ritual[2]}\n                  onChange={this.handleRitChange}\n                  name=\"wed\"\n                  label=\"Wednesday\"\n                />\n                <CheckBox\n                  value={is_ritual[3]}\n                  onChange={this.handleRitChange}\n                  name=\"thurs\"\n                  label=\"Thursday\"\n                />\n                <CheckBox\n                  value={is_ritual[4]}\n                  onChange={this.handleRitChange}\n                  name=\"fri\"\n                  label=\"Friday\"\n                />\n                <CheckBox\n                  value={is_ritual[5]}\n                  onChange={this.handleRitChange}\n                  name=\"sat\"\n                  label=\"Saturday\"\n                />\n                <CheckBox\n                  value={is_ritual[6]}\n                  onChange={this.handleRitChange}\n                  name=\"sun\"\n                  label=\"Sunday\"\n                />\n              </small>\n            </Row>\n          </Collapse>\n        </form>\n        {this.props.item.context.status === \"canceled\" && (\n          <center>\n            <a href=\"#\" onClick={this.handleDelete}>\n              <small>Permanently Delete</small>\n            </a>\n          </center>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default WktItemSingleForm;\n","import React, { Component } from \"react\";\nimport { MultiSelect, saveDelayTimeout } from \"../utils/utils\";\nimport { Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\n\nclass WktItemMoveForm extends Component {\n  state = {\n    timeout: null,\n  };\n\n  all_potential_parents = (item) => {\n    const { items } = this.props;\n    if (!(item in items)) return [];\n    let ret = [];\n    items[item].children.map((x) => {\n      if (x !== this.props.item && items[x].context.name) {\n        ret.push(...this.all_potential_parents(x));\n      }\n    });\n    if (items[item].context.name) {\n      ret.push(item);\n    }\n    return ret;\n  };\n\n  bread_crumb = (item) => {\n    const { items } = this.props;\n    let ret = \"\";\n\n    //Day nodes do not have valid item ids so item ends up not having id\n    if (!items[item] || items[item].context.day) return \"\";\n\n    if (items[item].parent) ret += this.bread_crumb(items[item].parent);\n    ret += \"::\" + items[item].context.name;\n    return ret;\n  };\n\n  handleSubmit = (e) => {\n    this.props.update_func(this.state);\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"parent\") {\n      if (window.confirm(\"Are you sure you want to move this item?\")) {\n        this.props.move_workette(this.props.item, e.currentTarget.value);\n      }\n    }\n  };\n\n  render() {\n    const { new_parent } = this.state;\n    const wtype_options = [\"workette\", \"link\", \"note\", \"workset\"];\n\n    return (\n      <Container fluid>\n        <form onSubmit={this.handleSubmit}>\n          <MultiSelect\n            value={new_parent}\n            onChange={this.handleChange}\n            name=\"parent\"\n            options={[\n              [this.props.day, \"Top Level of Day\"],\n              ...this.all_potential_parents(this.props.day).map((x) => {\n                return [x, this.bread_crumb(x)];\n              }),\n            ]}\n            extra_class=\"form-control-sm\"\n            description=\"Enter new parent workette.\"\n          />\n        </form>\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n});\n\nconst map_dispatch = (dispatch) => ({\n  move_workette: (w_id, dest_node) =>\n    dispatch(wact.move_workette(w_id, dest_node)),\n});\n\nexport default connect(map_state, map_dispatch)(WktItemMoveForm);\n","import React, { Component } from \"react\";\nimport WktItemSet from \"./wkt-item-set\";\nimport WktNotes from \"./wkt-note-set\";\nimport WktLinks from \"./wkt-link-set\";\nimport WktWorksets from \"./wkt-worksets\";\nimport WktAddForm from \"./wkt-add\";\nimport WktNoteForm from \"./wkt-note\";\nimport WktItemSingleForm from \"./wkt-item-single-form\";\nimport WktItemMoveForm from \"./wkt-item-move-form\";\nimport { is_today } from \"../utils/utils\";\nimport WktButton from \"./wkt-button\";\nimport {\n  faPlusSquare,\n  faEdit,\n  faStickyNote,\n  faEye,\n  faLink,\n  faBoxOpen,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { Collapse, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { workette_actions as wact } from \"../store/workette\";\n\nclass Workette extends Component {\n  state = {\n    show_add: false,\n    show_edit: false,\n    show_move: false,\n    show_note: false,\n    open_only: true,\n  };\n\n  componentDidMount() {\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    const item = items[current];\n    if (item.context.note !== \"\" && item.context.wtype !== \"workset\")\n      this.setState({ show_note: true });\n  }\n\n  update_workette = (ctx) => {\n    const item = this.props.workette.items[this.props.w_id];\n    if (!is_today(this.props.session.cur_date)) return;\n    this.props.set_workette(item.jid, ctx);\n  };\n\n  delete_workette = () => {\n    const item = this.props.workette.items[this.props.w_id];\n    if (!is_today(this.props.session.cur_date)) return;\n    this.props.delete_workette(item.jid, item.parent);\n  };\n\n  render() {\n    const { session, workette } = this.props;\n    const { items } = this.props.workette;\n    const current = this.props.w_id;\n    if (!items[current]) {\n      return <div>Does not exist</div>;\n    }\n    return (\n      <React.Fragment>\n        <Container\n          fluid\n          className=\"border m-0 p-0\"\n          style={{ backgroundImage: \"linear-gradient(#fffff5, #eeffff)\" }}\n        >\n          <span>\n            {/* <strong>\n              {items[current].context.name && items[current].context.name}\n            </strong> */}\n            <WktButton\n              icon={faPlusSquare}\n              status={this.state.show_add}\n              onClick={() => {\n                this.setState({ show_add: !this.state.show_add });\n              }}\n            />\n            {items[current].context.name && (\n              <React.Fragment>\n                <WktButton\n                  icon={faEdit}\n                  status={this.state.show_edit}\n                  onClick={() => {\n                    this.setState({ show_edit: !this.state.show_edit });\n                  }}\n                />\n                <WktButton\n                  icon={faBoxOpen}\n                  status={this.state.show_move}\n                  onClick={() => {\n                    this.setState({ show_move: !this.state.show_move });\n                  }}\n                />\n              </React.Fragment>\n            )}\n            <WktButton\n              icon={faStickyNote}\n              status={this.state.show_note}\n              onClick={() => {\n                this.setState({ show_note: !this.state.show_note });\n              }}\n            />\n            <WktButton\n              icon={faEye}\n              status={!this.state.open_only}\n              onClick={() => {\n                this.setState({ open_only: !this.state.open_only });\n              }}\n            />\n          </span>\n          <Collapse in={this.state.show_add} unmountOnExit={true}>\n            <div>\n              <WktAddForm w_id={this.props.w_id} />\n            </div>\n          </Collapse>\n          <Collapse in={this.state.show_edit} unmountOnExit={true}>\n            <div>\n              <WktItemSingleForm\n                item={items[current]}\n                update_func={this.update_workette}\n                delete_func={this.delete_workette}\n              />\n            </div>\n          </Collapse>\n          <Collapse in={this.state.show_move} unmountOnExit={true}>\n            <div>\n              <WktItemMoveForm\n                item={current}\n                items={items}\n                day={workette.days[session.cur_date]}\n              />\n            </div>\n          </Collapse>\n          <WktItemSet w_id={this.props.w_id} open_only={this.state.open_only} />\n          <Collapse\n            in={this.state.show_note || items[current].context.wtype === \"note\"}\n            unmountOnExit={true}\n          >\n            <div>\n              <WktNoteForm w_id={current} />\n            </div>\n          </Collapse>\n          <WktLinks w_id={this.props.w_id} />\n          <WktNotes w_id={this.props.w_id} />\n          <WktWorksets w_id={this.props.w_id} />\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n  api: state.api,\n});\n\nconst map_dispatch = (dispatch) => ({\n  set_workette: (w_id, ctx) => dispatch(wact.set_workette(w_id, ctx)),\n  delete_workette: (w_id, parent_id) =>\n    dispatch(wact.delete_workette(w_id, parent_id)),\n});\n\nexport default connect(map_state, map_dispatch)(Workette);\n","import React, { Component } from \"react\";\nimport Workette from \"./workette\";\nimport { connect } from \"react-redux\";\nimport WktNoteForm from \"./wkt-note\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { workette_actions as wact } from \"../store/workette\";\n\nfunction print_date(d) {\n  let ret = new Date(d);\n  return ret.toDateString();\n}\n\nclass Day extends Component {\n  componentDidMount() {\n    const { session, workette } = this.props;\n    const current = workette.days[session.cur_date];\n    //this.props.load_mits(current);\n  }\n\n  render() {\n    const { session, workette } = this.props;\n    const current = workette.days[session.cur_date];\n    return (\n      <Container fluid>\n        <Container fluid>\n          <Row></Row>\n        </Container>\n        <strong>\n          {workette.items[current].context.day &&\n            print_date(workette.items[current].context.day)}\n        </strong>\n        <Workette w_id={current} />\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n  api: state.api,\n});\n\nconst map_dispatch = (dispatch) => ({\n  load_mits: (w_id) => dispatch(wact.load_mits(w_id)),\n});\n\nexport default connect(map_state, map_dispatch)(Day);\n","import React, { Component } from \"react\";\nimport WktItemSingle from \"./wkt-item-single\";\nimport { Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\nimport { apply_ordering, move_arr_item } from \"../utils/utils\";\n\nclass DeepMITs extends Component {\n  state = { ordered: [] };\n\n  componentDidMount() {\n    this.setState({ ordered: this.props.items });\n  }\n\n  componentDidUpdate() {\n    const { ordered } = this.state;\n    const new_order = apply_ordering(ordered, this.props.items);\n    if (new_order !== this.state.ordered) this.setState({ ordered: new_order });\n  }\n\n  handle_drag = (result) => {\n    const { source, destination, draggableId } = result;\n    const { ordered } = this.state;\n    if (\n      !destination ||\n      source.droppableId !== destination.droppableId ||\n      source.index === destination.index\n    )\n      return;\n    const src_idx = ordered.indexOf(draggableId);\n    const dest_idx = ordered.indexOf(ordered[destination.index]);\n    const new_order = move_arr_item(ordered, src_idx, dest_idx);\n    this.setState({ ordered: new_order });\n  };\n\n  render() {\n    const { items } = this.props.workette;\n    const { ordered } = this.state;\n    return (\n      <Container fluid className=\"m-0 p-0\">\n        {this.props.items && this.props.items.length > 0 && (\n          <div>\n            <br />\n            {this.props.label}\n          </div>\n        )}\n        <DragDropContext onDragEnd={this.handle_drag}>\n          <Droppable droppableId={this.props.w_id}>\n            {(provided) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                {this.props.items.map((i, idx) => (\n                  <React.Fragment key={i}>\n                    {\n                      <WktItemSingle\n                        item={items[i]}\n                        index={idx}\n                        is_workset={false}\n                        color={this.props.color}\n                      />\n                    }\n                  </React.Fragment>\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  workette: state.workette,\n});\nexport default connect(map_state)(DeepMITs);\n","import React, { Component } from \"react\";\nimport Day from \"./components/day\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"./store/session\";\nimport { workette_actions as wact } from \"./store/workette\";\nimport DeepMITs from \"./components/deep-mits\";\nimport { Container } from \"react-bootstrap\";\nimport { time_now } from \"./utils/utils\";\nimport { workette_filters as w_filter } from \"./utils/filters\";\n\nclass DayViewLeft extends Component {\n  state = { date: time_now() };\n\n  componentDidMount() {\n    this.onChange(time_now());\n  }\n\n  onChange = (date) => {\n    const today = time_now();\n    if (date > today) date = today;\n    this.props.change_date(date);\n    const { workette } = this.props;\n    const current = workette.days[date.toISOString().split(\"T\")[0]];\n    if (!current) {\n      this.props.load_day(date.toISOString().split(\"T\")[0]);\n    }\n    this.setState({ date });\n  };\n\n  render() {\n    const { session, workette } = this.props;\n    const { items } = workette;\n    const current = workette.days[session.cur_date];\n\n    return (\n      <Container fluid className=\"m-0 p-0\">\n        <small>\n          <Calendar value={this.state.date} onChange={this.onChange} />\n        </small>\n        <small>Ver. 0.38.6 </small>\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Knock these out!\"\n            items={w_filter.deepMIT()}\n          />\n        )}\n      </Container>\n    );\n  }\n}\n\nconst map_state = (state) => ({\n  session: state.session,\n  workette: state.workette,\n});\n\nconst left_map_dispatch = (dispatch) => ({\n  change_date: (date) => dispatch(session.change_date(date)),\n  load_day: (date) => dispatch(wact.load_day(date)),\n});\n\nDayViewLeft = connect(map_state, left_map_dispatch)(DayViewLeft);\n\nclass DayViewRight extends Component {\n  render() {\n    const { session, workette } = this.props;\n    const current = workette.days[session.cur_date];\n    return (\n      <Container fluid className=\"m-0 p-0\">\n\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Everything Completed!\"\n            color=\"#d4ffd4\"\n            items={w_filter.deepCompleted()}\n          />\n        )}\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Everything In Progress!\"\n            color=\"#e4e4ff\"\n            items={w_filter.deepRunning()}\n          />\n        )}\n        {current && (\n          <DeepMITs\n            w_id={current}\n            label=\"Everything Abandoned!\"\n            color=\"#ffdddd\"\n            items={w_filter.deepCanceled()}\n          />\n        )}\n      </Container>\n    );\n  }\n}\n\nDayViewRight = connect(map_state)(DayViewRight);\n\nclass DayViewMain extends Component {\n  state = {};\n  render() {\n    const { session, workette } = this.props;\n    return (\n      <React.Fragment>\n        {workette.days[session.cur_date] && <Day />}\n      </React.Fragment>\n    );\n  }\n}\n\nDayViewMain = connect(map_state)(DayViewMain);\n\nexport { DayViewLeft, DayViewRight, DayViewMain };\n","import React, { Component } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { DayViewLeft, DayViewRight, DayViewMain } from \"./DayViews\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"./store/session\";\nimport axios from \"axios\";\n\nclass LLReflectApp extends Component {\n  componentDidMount() {\n    if (!this.props.session.logged_in) this.props.history.push(\"/login\");\n    else {\n      axios.defaults.headers.common[\"Authorization\"] =\n        \"token \" + this.props.session.token;\n\n      if (!this.props.session.jac_loaded) this.props.load_jac();\n    }\n  }\n\n  render() {\n    return (\n      <Container fluid>\n        {this.props.session.jac_loaded && (\n          <Row style={{ height: \"92vh\" }}>\n            <Col\n              style={{\n                minWidth: \"350px\",\n                height: \"100%\",\n                maxWidth: \"400px\",\n                overflowY: \"auto\",\n              }}\n            >\n              <Container>\n                <DayViewLeft />\n              </Container>\n            </Col>\n            <Col\n              style={{\n                minWidth: \"400px\",\n                height: \"100%\",\n                overflowY: \"auto\",\n              }}\n            >\n              <DayViewMain />\n            </Col>\n            <Col\n              style={{\n                minWidth: \"350px\",\n                height: \"100%\",\n                maxWidth: \"400px\",\n                overflowY: \"auto\",\n              }}\n            >\n              <DayViewRight />\n            </Col>\n          </Row>\n        )}\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  load_jac: () =>\n    axios.get(\"/ll.jac\").then((r) => dispatch(session.load_jac(btoa(r.data)))),\n});\n\nexport default connect(map_state, map_dispatch)(LLReflectApp);\n","import React, { Component } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { DayViewLeft, DayViewRight, DayViewMain } from \"./DayViews\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"./store/session\";\nimport axios from \"axios\";\nimport WktButton from \"./components/wkt-button\";\nimport { faAlignCenter, faEye } from \"@fortawesome/free-solid-svg-icons\";\n\nclass LLDayApp extends Component {\n  state = { show_left: true, show_right: true }\n  componentDidMount() {\n    if (!this.props.session.logged_in) this.props.history.push(\"/login\");\n    else {\n      axios.defaults.headers.common[\"Authorization\"] =\n        \"token \" + this.props.session.token;\n\n      if (!this.props.session.jac_loaded) this.props.load_jac();\n    }\n  }\n\n  sidebar_style = (should_show) => {\n    return {\n      minWidth: should_show ? \"300px\" : \"70px\",\n      maxHeight: \"100%\",\n      maxWidth: should_show ? \"350px\" : \"70px\",\n      overflowY: \"auto\",\n    }\n  }\n\n  render() {\n    return (\n      <Container fluid style={{ height: \"100%\" }}>\n        {this.props.session.jac_loaded && (\n          <Row style={{ height: \"100%\", overflowY: \"auto\" }}>\n            <Col\n              style={this.sidebar_style(this.state.show_left)}\n            >\n              <Container>\n                <center>\n                  <WktButton\n                    icon={faEye}\n                    status={this.state.show_left}\n                    onClick={() => {\n                      this.setState({ show_left: !this.state.show_left });\n                    }}\n                  />\n                </center>\n                {this.state.show_left && <DayViewLeft />}\n              </Container>\n            </Col>\n            <Col\n              style={{\n                minWidth: \"400px\",\n                maxHeight: \"100%\",\n                overflowY: \"auto\",\n              }}\n            >\n              <DayViewMain />\n            </Col>\n            <Col\n              style={this.sidebar_style(this.state.show_right)}\n            >\n              <center>\n                <WktButton\n                  icon={faEye}\n                  status={this.state.show_right}\n                  onClick={() => {\n                    this.setState({ show_right: !this.state.show_right });\n                  }}\n                />\n              </center>\n              {this.state.show_right && <DayViewRight />}\n            </Col>\n          </Row>\n        )}\n      </Container>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  load_jac: () =>\n    axios.get(\"/ll.jac\").then((r) => dispatch(session.load_jac(btoa(r.data)))),\n});\n\nexport default connect(map_state, map_dispatch)(LLDayApp);\n","import React, { Component } from \"react\";\nimport { Input, ServerErrors } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"../store/session\";\nimport { workette_actions as wact } from \"../store/workette\";\nimport { Redirect } from \"react-router-dom\";\n\nclass LogIn extends Component {\n  state = { email: \"\", pass: \"\", errors: [] };\n\n  handleSubmit = (e) => {\n    const { email, pass } = this.state;\n    e.preventDefault();\n    //Call server\n    this.props.login({ email, pass });\n\n    this.setState({ pass: \"\" });\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"email\") {\n      this.setState({ email: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"password\") {\n      this.setState({ pass: e.currentTarget.value });\n    }\n  };\n\n  validate = () => {\n    const { email, pass, errors } = this.state;\n    errors.length = 0;\n    if (email.trim() === \"\") {\n      errors.push(\"Email required;\\n\");\n    }\n    if (pass.trim() === \"\") {\n      errors.push(\"Password required;\\n\");\n    }\n  };\n\n  render() {\n    const { email, pass, errors } = this.state;\n    return (\n      <div className=\"container-sm\">\n        {this.props.session.logged_in && <Redirect to=\"/\" />}\n        <ServerErrors errors={this.props.session.error} />\n        <h1>Login</h1>\n        <br />\n\n        <form onSubmit={this.handleSubmit}>\n          <Input\n            value={email}\n            onChange={this.handleChange}\n            name=\"email\"\n            label=\"Email address\"\n            description=\"Enter a valid email address.\"\n          />\n          <Input\n            value={pass}\n            onChange={this.handleChange}\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            description=\"Enter your password.\"\n          />\n\n          <button\n            //disabled={errors.length}\n            type=\"submit\"\n            className=\"btn btn-primary\"\n          >\n            Login\n          </button>\n        </form>\n        <br />\n        {this.validate()}\n        {errors.length !== 0 && (\n          <div className=\"alert alert-danger\">{errors}</div>\n        )}\n      </div>\n    );\n  }\n}\n\nclass LogOut extends Component {\n  state = {};\n  componentDidMount() {\n    this.props.logout();\n    this.props.wkt_logout();\n  }\n  render() {\n    return <div>{!this.props.session.logged_in && <Redirect to=\"/\" />}</div>;\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  login: ({ email, pass }) => dispatch(session.login({ email, pass })),\n  logout: () => dispatch(session.logout()),\n  wkt_logout: () => dispatch(wact.logout()),\n});\n\nLogIn = connect(map_state, map_dispatch)(LogIn);\nLogOut = connect(map_state, map_dispatch)(LogOut);\n\nexport { LogIn, LogOut };\n","import React, { Component } from \"react\";\nimport { Input, ServerErrors } from \"../utils/utils\";\nimport { connect } from \"react-redux\";\nimport { session_actions as session } from \"../store/session\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Register extends Component {\n  state = { email: \"\", pass: \"\", pass_dup: \"\", full_name: \"\", errors: [] };\n\n  handleSubmit = (e) => {\n    const { email, pass, full_name } = this.state;\n    e.preventDefault();\n    //Call server\n    this.props.create({ email, pass, full_name });\n    this.setState({ pass: \"\", pass_dup: \"\" });\n  };\n\n  handleChange = (e) => {\n    if (e.currentTarget.name === \"email\") {\n      this.setState({ email: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"password\") {\n      this.setState({ pass: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"pass_dup\") {\n      this.setState({ pass_dup: e.currentTarget.value });\n    } else if (e.currentTarget.name === \"full_name\") {\n      this.setState({ full_name: e.currentTarget.value });\n    }\n  };\n\n  validate = () => {\n    const { email, pass, errors, pass_dup } = this.state;\n    errors.length = 0;\n    if (email.trim() === \"\") {\n      errors.push(\"Email required;\\n\");\n    }\n    if (pass.trim() === \"\") {\n      errors.push(\"Password required;\\n\");\n    }\n    if (pass_dup.trim() === \"\") {\n      errors.push(\"Re-enter password;\\n\");\n    }\n    if (pass_dup.trim() !== pass.trim()) {\n      errors.push(\"Passwords do not match;\\n\");\n    }\n  };\n\n  render() {\n    const { email, pass, pass_dup, full_name, errors } = this.state;\n    return (\n      <div className=\"container-sm\">\n        <ServerErrors errors={this.props.session.error} />\n        {this.props.session.token === \"user_created\" && (\n          <Redirect to=\"/login\" />\n        )}\n        <h1>Register</h1>\n        <br />\n        <form onSubmit={this.handleSubmit}>\n          <Input\n            value={email}\n            onChange={this.handleChange}\n            name=\"email\"\n            label=\"Email address\"\n            description=\"Enter a valid email address.\"\n          />\n          <Input\n            value={pass}\n            onChange={this.handleChange}\n            name=\"password\"\n            type=\"password\"\n            label=\"Password\"\n            description=\"Enter your password.\"\n          />\n          <Input\n            value={pass_dup}\n            onChange={this.handleChange}\n            name=\"pass_dup\"\n            type=\"password\"\n            label=\"Re-enter Password\"\n            description=\"Please re-enter password.\"\n          />\n          <Input\n            value={full_name}\n            onChange={this.handleChange}\n            name=\"full_name\"\n            label=\"Full Name\"\n            description=\"(optional) Enter full name.\"\n          />\n\n          <button\n            disabled={errors.length}\n            type=\"submit\"\n            className=\"btn btn-primary\"\n          >\n            Register\n          </button>\n        </form>\n        <br />\n        {this.validate()}\n        {errors.length !== 0 && (\n          <div className=\"alert alert-danger\">\n            <pre>{errors}</pre>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\n//Connect this component to store.session\nconst map_state = (state) => ({\n  session: state.session,\n});\n\nconst map_dispatch = (dispatch) => ({\n  create: ({ email, pass, full_name }) =>\n    dispatch(session.create({ email, pass, full_name })),\n});\n\nexport default connect(map_state, map_dispatch)(Register);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport NavBar from './components/navbar';\nimport LLReflectApp from './LLReflectApp';\nimport LLDayApp from './LLDayApp';\nimport { StatusBar } from './utils/utils'\nimport { LogIn, LogOut } from './components/login';\nimport Register from './components/register';\nimport { Container } from \"react-bootstrap\";\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <div>\n                <NavBar style={{ height: \"40px\" }} />\n                <Container fluid className=\"m-0 p-0\" style={{ height: \"calc(100vh - 70px)\" }}>\n                    <Switch>\n                        <Route path=\"/login\" component={LogIn} />\n                        <Route path=\"/logout\" component={LogOut} />\n                        <Route path=\"/register\" component={Register} />\n                        <Route path=\"/reflect\" component={LLReflectApp} />\n                        <Route path=\"/\" component={LLDayApp} />\n                    </Switch>\n                </Container>\n                <StatusBar style={{ height: \"30px\" }} />\n            </div>\n\n        </Provider>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter><App /></BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}