(this["webpackJsonpll-app"]=this["webpackJsonpll-app"]||[]).push([[0],{101:function(e,t,a){e.exports=a(250)},106:function(e,t,a){},107:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),i=a(17),l=(a(106),a(10)),c=(a(107),a(8)),u=a(16),d=a(33),p=a(3),m=a(26),h=a(57),f=a.n(h),_=a(95),g=a(23),v=a.n(g),b=function(e){var t=e.url,a=e.status,n=e.method,r=e.data;return{type:"api_call",payload:{url:t,status:a,method:n||"get",data:r||{},success_action:e.success_action,error_action:e.error_action,pass_through:e.pass_through}}},w=function(e){return{type:"api_success",payload:e}},y=function(e){return{type:"api_failed",payload:e}},E={is_loading:!1},k=a(4),j=a(5),O=a(7),x=a(6),C=function(e,t){return clearTimeout(e),setTimeout((function(){return t()}),1e3)},S=function(){return new Date((new Date).toLocaleDateString())},N=function(){return S().toISOString().split("T")[0]},T=function(e){return new Date(e).toISOString().split("T")[0]===N()},D=function(e){var t=e.name,a=e.type,n=e.label,o=e.value,s=e.onChange,i=e.description,l=e.extra_class;return r.a.createElement("div",{className:"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1"},n&&r.a.createElement("label",{htmlFor:t},n),r.a.createElement("input",{value:o,onChange:s,name:t,type:a,className:"form-control "+l,id:t,"aria-describedby":"inputdesc"}),r.a.createElement("small",{id:"inputdesc",className:"form-text text-muted"},i))},A=function(e){var t=e.name,a=e.type,n=e.label,o=e.value,s=e.options,i=e.onChange,l=e.description,c=e.extra_class;return r.a.createElement("div",{className:"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1"},n&&r.a.createElement("label",{htmlFor:t},n),r.a.createElement("select",{value:o,onChange:i,name:t,type:a,className:"form-control "+c,id:t,"aria-describedby":"inputdesc"},s.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("small",{id:"inputdesc",className:"form-text text-muted"},l))},I=function(e){var t=e.name,a=e.type,n=e.label,o=e.value,s=e.options,i=e.onChange,l=e.description,c=e.extra_class;return r.a.createElement("div",{className:"form-group col-lg m-0 pl-3 pr-3 pb-1 pb-1 pt-1"},n&&r.a.createElement("label",{htmlFor:t},n),r.a.createElement("select",{multiple:!0,value:o,onChange:i,name:t,type:a,className:"form-control "+c,id:t,"aria-describedby":"inputdesc"},s.map((function(e){return r.a.createElement("option",{key:e[0],label:e[1]},e[0])}))),r.a.createElement("small",{id:"inputdesc",className:"form-text text-muted"},l))},R=function(e){var t=e.name,a=(e.type,e.label),n=e.value,o=e.onChange,s=e.extra_class;return r.a.createElement("div",{className:"form-check form-check-inline m-0 pl-3 pr-3 pb-1 pb-1 pt-1"},r.a.createElement("input",{checked:!!n,onChange:o,name:t,type:"checkbox",className:"form-check-input "+s,id:t,"aria-describedby":"inputdesc"}),r.a.createElement("label",{className:"form-check-label",htmlFor:t},a))},L=function(e){var t=e.errors;return r.a.createElement("div",null,t&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("pre",null,JSON.stringify(t,null,2))))},W=function(e){var t=e.is_loading;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("div",null,"\xa0 \xa0",r.a.createElement("div",{className:"spinner-grow spinner-grow-sm",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),"\xa0",r.a.createElement("small",null,t,"...")))},z=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer",style:this.props.style},r.a.createElement(W,{is_loading:this.props.api.is_loading}))}}]),a}(n.Component);function M(e,t,a){for(;t<0;)t+=e.length;for(;a<0;)a+=e.length;if(a>=e.length)for(var n=a-e.length;1+n--;)e.push(void 0);return e.splice(a,0,e.splice(t,1)[0]),e}z=Object(c.b)((function(e){return{api:e.api}}))(z);var P=["workette","link","note","workset"];function F(e,t){return Array.isArray(e)&&e.filter((function(e){return t.includes(e)})).map((function(e,a){return t=M(t,t.indexOf(e),a)})),t}var U="workette_op_error",q={load_day:function(e){var t=ne.getState().session;return b({url:"/jac/prime_run",status:"Loading Day",method:"post",data:{name:"get_gen_day",snt:t.sentinel,nd:t.graph,ctx:{date:e}},success_action:"load_day",error_action:U})},set_workette:function(e,t){return b({url:"/jac/set_node_context",status:"Updating Workette",method:"post",data:{nd:e,ctx:t},success_action:"update_workette",error_acmion:U})},move_workette:function(e,t){var a=ne.getState().session;return b({url:"/jac/prime_run",status:"Moving Workette",method:"post",data:{name:"move_workette",snt:a.sentinel,nd:e,ctx:{dest_node:t}},success_action:"move_workette",error_action:U,pass_through:{w_id:e,dest_node:t}})},create_workette:function(e,t){var a=ne.getState().session;return b({url:"/jac/prime_run",status:"Creating Workette",method:"post",data:{name:"create_workette",snt:a.sentinel,nd:e,ctx:t},success_action:"create_workette",error_action:U,pass_through:{w_id:e}})},delete_workette:function(e,t){var a=ne.getState().session;return b({url:"/jac/prime_run",status:"Deleting Workette",method:"post",data:{name:"delete_workette",snt:a.sentinel,nd:e,ctx:{}},success_action:"delete_workette",error_action:U,pass_through:{w_id:e,parent_id:t}})},dummy_data:function(){var e=ne.getState().session;return b({url:"/jac/prime_run",method:"post",data:{name:"gen_rand_life",snt:e.sentinel,nd:e.graph,ctx:{}},success_action:"generate_dummy_data",error_action:U})},logout:function(){return{type:"workette_log_out"}}},Y=function(e){var t={};for(var a in e.map((function(e){t[e[1].jid]=e[1],t[e[1].jid].children=[];var a="urn:uuid:"+e[0];t[e[1].jid].parent=a,a in t&&t[a].children.push(e[1].jid)})),t){var n=t[a];n.children&&(n.children=F(n.context.order,Object(m.a)(n.children)))}return t},H={error:"",status:"",days:{},items:{}},V="user_log_in",J="user_log_out",X="user_created",B="user_session_error",$=function(e){var t=e.email,a=e.pass,n=e.full_name;return b({url:"/user/create/",method:"post",data:{email:t,password:a,name:n},success_action:X,error_action:B})},K=function(e){var t=e.email,a=e.pass;return b({url:"/user/token/",method:"post",data:{email:t,password:a},success_action:V,error_action:B})},G=function(e){return b({url:"/jac/load_application",method:"post",data:{name:"lifelogify",code:e},success_action:"load_jac_code",error_action:B})},Q=function(e){return{type:"change_date",payload:{date:e}}},Z=function(){return{type:J}},ee={error:"",logged_in:!1,token:"",cur_date:N(),jac_loaded:!1,sentinel:null,graph:null},te=Object(u.d)(Object(u.a)((function(e){return function(e){return function(t){e(t)}}}),(function(e){var t=e.dispatch;e.getState;return function(e){return function(){var a=Object(_.a)(f.a.mark((function a(n){var r,o,s,i,l,c,u,d,p;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("api_call"===n.type){a.next=2;break}return a.abrupt("return",e(n));case 2:return e(n),r=n.payload,o=r.url,s=r.method,i=r.data,l=r.success_action,c=r.error_action,u=r.pass_through,a.prev=4,a.next=7,v.a.request({baseURL:"https://api.jaseci.org/",url:o,method:s,data:i});case 7:(d=a.sent).data.pass_through=u,t(w(d.data)),l&&t({type:l,payload:d.data}),a.next=20;break;case 13:a.prev=13,a.t0=a.catch(4),p={},a.t0.message&&(p.messages=a.t0.message),a.t0.response&&(p.response=a.t0.response),t(y(p)),c&&t({type:c,payload:p});case 20:case"end":return a.stop()}}),a,null,[[4,13]])})));return function(e){return a.apply(this,arguments)}}()}})),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),ae=Object(u.c)({workette:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"load_day":var a=t.payload,n=Y(a);return Object(p.a)(Object(p.a)({},e),{},{items:Object(p.a)(Object(p.a)({},e.items),n),days:Object(p.a)(Object(p.a)({},e.days),{},Object(d.a)({},a[0][1].context.day.split("T")[0],a[0][1].jid))});case"update_workette":var r=Object(p.a)({},e.items),o=r[t.payload.jid].children,s=r[t.payload.jid].parent;return r[t.payload.jid]=t.payload,r[t.payload.jid].children=F(t.payload.context.order,o),r[t.payload.jid].parent=s,r[t.payload.jid].context.last_written=S(),Object(p.a)(Object(p.a)({},e),{},{items:Object(p.a)({},r)});case"move_workette":var i=Object(p.a)({},e.items),l=i[t.payload[0].jid].children,c=i[t.payload[0].jid].parent,u=t.payload.pass_through.dest_node;return i[t.payload[0].jid]=t.payload[0],i[t.payload[0].jid].children=F(t.payload[0].context.order,l),i[t.payload[0].jid].parent=u,i[c].children=i[c].children.filter((function(e){return e!==t.payload[0].jid})),i[u].children.push(t.payload[0].jid),Object(p.a)(Object(p.a)({},e),{},{items:Object(p.a)({},i)});case"create_workette":t.payload[0].children=[],t.payload[0].parent=t.payload.pass_through.w_id;var m=Object(p.a)(Object(p.a)({},e.items),{},Object(d.a)({},t.payload[0].jid,t.payload[0]));return m[t.payload.pass_through.w_id].children.push(t.payload[0].jid),Object(p.a)(Object(p.a)({},e),{},{items:Object(p.a)({},m)});case"delete_workette":var h=Object(p.a)({},e.items);delete h[t.payload.pass_through.w_id];var f=h[t.payload.pass_through.parent_id].children.indexOf(t.payload.pass_through.w_id);return h[t.payload.pass_through.parent_id].children.splice(f,1),Object(p.a)(Object(p.a)({},e),{},{items:Object(p.a)({},h)});case U:return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});case"workette_log_out":return Object(p.a)({},H);default:return e}},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(p.a)(Object(p.a)({},e),{},{error:"",token:t.payload.token,logged_in:!0});case J:return Object(p.a)({},ee);case X:return Object(p.a)(Object(p.a)({},e),{},{error:"",token:"user_created",logged_in:!1});case"change_date":return Object(p.a)(Object(p.a)({},e),{},{cur_date:t.payload.date.toISOString().split("T")[0]});case"load_jac_code":var a="",n=t.payload,r=n.sentinel,o=n.graph,s=n.active;return s||(a="CRITICAL: LL JAC NOT ACTIVE"),Object(p.a)(Object(p.a)({},e),{},{error:a,jac_loaded:""===a,sentinel:r.split(":")[2],graph:o.split(":")[2]});case B:return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});default:return e}},api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"api_call":var a=t.payload.status?t.payload.status:"Working";return Object(p.a)(Object(p.a)({},e),{},{is_loading:a});case"api_failed":case"api_success":return Object(p.a)(Object(p.a)({},e),{},{is_loading:!1});default:return e}}}),ne=Object(u.e)(ae,te),re=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-default navbar-expand-lg navbar-light bg-light",role:"navigation",style:this.props.style},r.a.createElement(i.b,{className:"navbar-brand",to:"/"},"LL"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},!this.props.session.logged_in&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"nav navbar-nav  ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/register"},"Register")))),this.props.session.logged_in&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/"},"Day")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/reflect"},"Reflect"))),r.a.createElement("ul",{className:"nav navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/logout"},"Logout"))))))}}]),a}(n.Component),oe=Object(c.b)((function(e){return{session:e.session,api:e.api}}))(re),se=a(252),ie=a(253),le=a(254),ce=a(24),ue=a(255),de=a(96),pe=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).on_color={color:"#000"},e.off_color={color:"#aaa"},e}return Object(j.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"ml-1",onClick:this.props.onClick},r.a.createElement(de.a,{icon:this.props.icon,style:this.props.status?this.on_color:this.off_color}))}}]),a}(n.Component),me=a(12),he=(a(132),function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={self_expand:(e.props.is_workset,!1)},e.toggle_MIT=function(t){if(T(e.props.session.cur_date)){var a=e.props.item.context.is_MIT;e.props.set_workette(t.jid,{is_MIT:!a})}},e.toggle_ritual=function(t){if(T(e.props.session.cur_date)){var a=!e.props.item.context.is_ritual&&[1,1,1,1,1,1,1];e.props.set_workette(t.jid,{is_ritual:a})}},e.toggle_canceled=function(t){if(T(e.props.session.cur_date)){var a=e.props.item.context.status;a="canceled"===a?"open":"canceled",e.props.set_workette(t.jid,{status:a})}},e.toggle_done=function(t){if(T(e.props.session.cur_date)){var a=e.props.item.context.status;a="done"===a?"open":"done",e.props.set_workette(t.jid,{status:a})}},e.toggle_running=function(t){if(T(e.props.session.cur_date)){var a=e.props.item.context.status;a="running"===a?"open":"running",e.props.set_workette(t.jid,{status:a})}},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.item,a=this.props.color?this.props.color:"#ffffff",n="workset"!==t.context.wtype&&"note"!==t.context.wtype&&"link"!==t.context.wtype;return r.a.createElement(ce.b,{draggableId:t.jid,index:this.props.index},(function(o){return r.a.createElement(r.a.Fragment,null,e.props.is_workset&&r.a.createElement("br",null),r.a.createElement(se.a,Object.assign({fluid:!0},o.draggableProps,{ref:o.innerRef,className:"border"}),r.a.createElement(ie.a,{className:"d-flex justify-content-between ",style:{backgroundColor:a}},n&&r.a.createElement(le.a,{xs:"auto",className:"m-0 p-0"},r.a.createElement(pe,{icon:me.b,status:"done"===t.context.status,onClick:function(){return e.toggle_done(t)}})),r.a.createElement(le.a,{className:"m-0 p-0"},r.a.createElement("div",Object.assign({className:"d-inline-flex ml-1"},o.dragHandleProps,{onClick:function(){e.setState({self_expand:!e.state.self_expand})},style:{cursor:"pointer"}}),t.context.owner&&r.a.createElement("span",null,"[",t.context.owner,"]\xa0"),e.state.self_expand&&r.a.createElement("strong",null,t.context.name),!e.state.self_expand&&t.context.name)),r.a.createElement(le.a,{xs:"auto",className:"m-0 p-0"},r.a.createElement(pe,{icon:me.g,status:t.context.is_MIT,onClick:function(){return e.toggle_MIT(t)}}),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{icon:me.f,status:"running"===t.context.status,onClick:function(){return e.toggle_running(t)}}),r.a.createElement(pe,{icon:me.i,status:t.context.is_ritual,onClick:function(){return e.toggle_ritual(t)}})),r.a.createElement(pe,{icon:me.j,status:"canceled"===t.context.status,onClick:function(){return e.toggle_canceled(t)}}),r.a.createElement("div",Object.assign({},o.dragHandleProps,{className:"d-inline-flex"}))))),r.a.createElement(ue.a,{in:e.state.self_expand,unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Re,{w_id:t.jid})),"link"===t.context.wtype&&r.a.createElement("div",null,r.a.createElement("a",{href:t.context.note,target:"_blank"},"Pop out to tab"),(s=t.context.note,!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(s)&&r.a.createElement("iframe",{src:t.context.note,style:{width:"100%",height:"800px",maxHeight:"80vh"}}))))));var s}))}}]),a}(n.Component)),fe=Object(c.b)((function(e){return{workette:e.workette,session:e.session}}),(function(e){return{set_workette:function(t,a){return e(q.set_workette(t,a))}}}))(he),_e=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handle_drag=function(t){var a=t.source,n=t.destination,r=t.draggableId,o=e.props.workette.items,s=e.props.w_id,i=o[s].children;if(T(e.props.session.cur_date)&&n&&a.droppableId===n.droppableId&&a.index!==n.index){var l=i.indexOf(r),c=i.indexOf(i[n.index]),u=M(i,l,c);e.props.set_workette(s,{order:u})}},e.showable=function(t){return"workette"!==!t.kind&&!!e.props.filter_func(t)},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.workette.items,a=this.props.w_id,n=t[a].children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{onDragEnd:this.handle_drag},r.a.createElement(ce.c,{droppableId:a},(function(a){return r.a.createElement("div",Object.assign({},a.droppableProps,{ref:a.innerRef}),n&&n.map((function(a,n){return r.a.createElement(r.a.Fragment,{key:t[a].jid},e.showable(t[a])&&r.a.createElement(fe,{item:t[a],index:n,is_workset:e.props.is_workset,color:e.props.color}))})),a.placeholder)}))))}}]),a}(n.Component),ge=Object(c.b)((function(e){return{workette:e.workette,session:e.session}}),(function(e){return{set_workette:function(t,a){return e(q.set_workette(t,a))}}}))(_e),ve={scheduled_now:function(e){var t=ne.getState().session,a=e.context;if(a.is_ritual&&!a.is_ritual[new Date(ne.getState().session.cur_date).getDay()])return"done"===a.status;if(a.snooze_till){var n=new Date(a.snooze_till),r=new Date(t.cur_date);if(a.snooze_till&&n>r)return!1}return!0},open:function(e){if(!ve.scheduled_now(e))return!1;var t=e.context;return!(t.status&&"open"!==t.status||t.wtype&&"workette"!==t.wtype&&"none"!=t.wtype)},complete:function(e){return"done"===e.context.status},running:function(e){return"running"===e.context.status},canceled:function(e){return"canceled"===e.context.status},allChildren:function(e){var t=ne.getState().workette.items,a=[];return e&&e.children?(e.children.map((function(e){a.push.apply(a,Object(m.a)(ve.allChildren(t[e])))})),a.push(e),a):a},deepMIT:function(){var e=ne.getState().workette.items[ne.getState().workette.days[ne.getState().session.cur_date]],t=[];return ve.allChildren(e).map((function(e){e.context.is_MIT&&ve.open(e)&&ve.scheduled_now(e)&&t.push(e.jid)})),t},deepCompleted:function(){var e=ne.getState().workette.items[ne.getState().workette.days[ne.getState().session.cur_date]],t=[];return ve.allChildren(e).map((function(e){"done"===e.context.status&&t.push(e.jid)})),t},deepCanceled:function(){var e=ne.getState().workette.items[ne.getState().workette.days[ne.getState().session.cur_date]],t=[];return ve.allChildren(e).map((function(e){"canceled"===e.context.status&&t.push(e.jid)})),t},deepRunning:function(){var e=ne.getState().workette.items[ne.getState().workette.days[ne.getState().session.cur_date]],t=[];return ve.allChildren(e).map((function(e){"running"===e.context.status&&t.push(e.jid)})),t}},be=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return r.a.createElement(se.a,{fluid:!0,className:"mr-0 pr-0"},r.a.createElement(ie.a,null,r.a.createElement(le.a,{style:{minWidth:"300px"}},r.a.createElement(ge,{filter_func:ve.open,w_id:this.props.w_id}),r.a.createElement(ge,{filter_func:ve.running,w_id:this.props.w_id,color:"#ededff"})),!this.props.open_only&&r.a.createElement(le.a,{style:{maxWidth:"36%",minWidth:"300px"}},r.a.createElement(ge,{filter_func:ve.complete,w_id:this.props.w_id,color:"#edffed"}),r.a.createElement(ge,{filter_func:function(e){return!ve.scheduled_now(e)},w_id:this.props.w_id,color:"#ffffed"}),r.a.createElement(ge,{filter_func:ve.canceled,w_id:this.props.w_id,color:"#ffeeee"}))))}}]),a}(n.Component),we=Object(c.b)((function(e){return{session:e.session}}))(be),ye=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"wkt_note",value:function(e){var t=e.context,a="open"===t.status||!t.status;return!(!t.wtype||"note"!==t.wtype||!a)}},{key:"render",value:function(){return r.a.createElement(se.a,{fluid:!0},r.a.createElement(ge,{filter_func:this.wkt_note,w_id:this.props.w_id,color:"#eeeeee"}))}}]),a}(n.Component),Ee=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"wkt_link",value:function(e){var t=e.context,a="open"===t.status||!t.status;return!(!t.wtype||"link"!==t.wtype||!a)}},{key:"render",value:function(){return r.a.createElement(se.a,{fluid:!0,className:"mt-3"},r.a.createElement(ge,{filter_func:this.wkt_link,w_id:this.props.w_id,color:"#ededff"}))}}]),a}(n.Component),ke=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"wkt_workset",value:function(e){var t=e.context,a="open"===t.status||!t.status;return!(!t.wtype||"workset"!==t.wtype||!a)}},{key:"render",value:function(){return r.a.createElement(se.a,{fluid:!0,className:"mr-0 pr-0"},r.a.createElement(ge,{filter_func:this.wkt_workset,w_id:this.props.w_id,is_workset:!0,color:"#ffefcd"}))}}]),a}(n.Component),je=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:"",wtype:""},e.handleSubmit=function(t){var a=e.props.w_id;t.preventDefault(),T(e.props.session.cur_date)&&e.props.create(a,e.state),e.setState({title:""})},e.handleChange=function(t){"add"===t.currentTarget.name?e.setState({title:t.currentTarget.value}):"wtype"===t.currentTarget.name&&e.setState({wtype:t.currentTarget.value})},e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.w_id!==e.w_id&&this.setState({title:"",wtype:""})}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.wtype;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ie.a,null,r.a.createElement(le.a,null,r.a.createElement(D,{value:t,onChange:this.handleChange,name:"add",extra_class:"form-control-sm",description:"Add a new workette. Press enter to add."})),r.a.createElement(le.a,{className:"col-md-auto"},r.a.createElement(A,{value:a,onChange:this.handleChange,name:"wtype",options:P,extra_class:"form-control-sm",description:"Enter type of workette."}))))}}]),a}(n.Component),Oe=Object(c.b)((function(e){return{workette:e.workette,session:e.session}}),(function(e){return{create:function(t,a){return e(q.create_workette(t,a))}}}))(je),xe=a(99),Ce=a.n(xe),Se=(a(246),a(247),function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={timeout:null,note:"",last_written:null},e.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},e.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","video"],e.updateStateLinked=function(){var t=e.props.workette.items[e.props.w_id].context,a=t.note,n=t.last_written;e.setState({note:a||"",last_written:n||null})},e.handleSubmit=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&t.preventDefault();var a=e.state.note,n=e.props.w_id;T(e.props.session.cur_date)&&(e.props.set_workette(n,{note:a}),setTimeout((function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{saved:!1}))}),1e3))},e.handleChange=function(t,a,n){"user"===n&&e.setState({note:t,timeout:C(e.state.timeout,(function(){return e.handleSubmit()}))})},e.handleLinkChange=function(t){"note"===t.currentTarget.name&&e.setState({note:t.currentTarget.value,timeout:C(e.state.timeout,(function(){return e.handleSubmit(t)}))})},e.validate=function(){},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.updateStateLinked()}},{key:"componentDidUpdate",value:function(){var e=this.props.workette.items[this.props.w_id].context.last_written;e&&e>this.state.last_written&&this.updateStateLinked()}},{key:"render",value:function(){var e=this.state.note,t=this.props.workette.items,a=this.props.w_id,n=t[a].context.wtype&&"link"===t[a].context.wtype;return r.a.createElement(se.a,{fluid:!0},r.a.createElement("form",{onSubmit:this.handleSubmit},n&&r.a.createElement(D,{value:e,onChange:this.handleLinkChange,extra_class:"form-control-sm",name:"note",description:"Link URL"}),!n&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(se.a,{fluid:!0,className:"border rounded m-0 p-0",style:{backgroundColor:"white"}},r.a.createElement(Ce.a,{value:e,onChange:this.handleChange,formats:this.formats,theme:"bubble",placeholder:"Write something..."})))))}}]),a}(n.Component)),Ne=Object(c.b)((function(e){return{workette:e.workette,session:e.session}}),(function(e){return{set_workette:function(t,a){return e(q.set_workette(t,a))}}}))(Se),Te=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={timeout:null,name:"",owner:"",wtype:"",snooze_till:"",is_ritual:!1,last_written:null},e.updateStateLinked=function(){var t=e.props.item.context,a=t.name,n=t.owner,r=t.wtype,o=t.is_ritual,s=t.snooze_till,i=t.last_written;e.setState({name:a||"",owner:n||"",wtype:r||"",snooze_till:s||"",is_ritual:o||!1,last_written:i||null})},e.handleSubmit=function(t){t.preventDefault(),e.props.update_func(e.state)},e.handleChange=function(t){"name"===t.currentTarget.name?e.setState({name:t.currentTarget.value}):"owner"===t.currentTarget.name?e.setState({owner:t.currentTarget.value}):"wtype"===t.currentTarget.name?e.setState({wtype:t.currentTarget.value}):"snooze_till"===t.currentTarget.name&&e.setState({snooze_till:t.currentTarget.value}),e.setState({timeout:C(e.state.timeout,(function(){return e.handleSubmit(t)}))})},e.handleRitChange=function(t){var a=e.state.is_ritual;switch(a||(a=[1,1,1,1,1,1,1]),t.currentTarget.name){case"mon":a[0]=!a[0];break;case"tues":a[1]=!a[1];break;case"wed":a[2]=!a[2];break;case"thurs":a[3]=!a[3];break;case"fri":a[4]=!a[4];break;case"sat":a[5]=!a[5];break;case"sun":a[6]=!a[6]}a.filter((function(e){return e})).length||(a=!1),e.setState({is_ritual:a}),e.setState({timeout:C(e.state.timeout,(function(){return e.handleSubmit(t)}))})},e.handleDelete=function(t){t.preventDefault(),window.confirm("Are you sure?")&&e.props.delete_func()},e}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props.item.context.last_written;e&&e>this.state.last_written&&this.updateStateLinked()}},{key:"componentDidMount",value:function(){this.updateStateLinked()}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.owner,n=e.wtype,o=e.snooze_till,s=this.state.is_ritual;return this.props.item.context.is_ritual&&!s&&(s=this.props.item.context.is_ritual),r.a.createElement(se.a,{fluid:!0},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ie.a,null,r.a.createElement(D,{value:t,onChange:this.handleChange,name:"name",extra_class:"form-control-sm",description:"Enter title of workette."}),"\xa0\xa0",r.a.createElement(A,{value:n,onChange:this.handleChange,name:"wtype",options:P,extra_class:"form-control-sm",description:"Enter type of workette."})),r.a.createElement(ie.a,null,r.a.createElement(D,{value:a,onChange:this.handleChange,name:"owner",extra_class:"form-control-sm",description:"Enter workette owner."}),"\xa0\xa0",r.a.createElement(D,{value:o,type:"date",onChange:this.handleChange,name:"snooze_till",extra_class:"form-control-sm",description:"Enter date for workette."})),r.a.createElement(ue.a,{in:!!this.props.item.context.is_ritual},r.a.createElement(ie.a,null,r.a.createElement("small",null,r.a.createElement("div",null,"Ritual recurs every"),r.a.createElement(R,{value:s[0],onChange:this.handleRitChange,name:"mon",label:"Monday"}),r.a.createElement(R,{value:s[1],onChange:this.handleRitChange,name:"tues",label:"Tuesday"}),r.a.createElement(R,{value:s[2],onChange:this.handleRitChange,name:"wed",label:"Wednesday"}),r.a.createElement(R,{value:s[3],onChange:this.handleRitChange,name:"thurs",label:"Thursday"}),r.a.createElement(R,{value:s[4],onChange:this.handleRitChange,name:"fri",label:"Friday"}),r.a.createElement(R,{value:s[5],onChange:this.handleRitChange,name:"sat",label:"Saturday"}),r.a.createElement(R,{value:s[6],onChange:this.handleRitChange,name:"sun",label:"Sunday"}))))),"canceled"===this.props.item.context.status&&r.a.createElement("center",null,r.a.createElement("a",{href:"#",onClick:this.handleDelete},r.a.createElement("small",null,"Permanently Delete"))))}}]),a}(n.Component),De=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={timeout:null},e.all_potential_parents=function(t){var a=e.props.items;if(!(t in a))return[];var n=[];return a[t].children.map((function(t){t!==e.props.item&&a[t].context.name&&n.push.apply(n,Object(m.a)(e.all_potential_parents(t)))})),a[t].context.name&&n.push(t),n},e.bread_crumb=function(t){var a=e.props.items,n="";return!a[t]||a[t].context.day?"":(a[t].parent&&(n+=e.bread_crumb(a[t].parent)),n+="::"+a[t].context.name)},e.handleSubmit=function(t){e.props.update_func(e.state)},e.handleChange=function(t){"parent"===t.currentTarget.name&&window.confirm("Are you sure you want to move this item?")&&e.props.move_workette(e.props.item,t.currentTarget.value)},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.state.new_parent;return r.a.createElement(se.a,{fluid:!0},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(I,{value:t,onChange:this.handleChange,name:"parent",options:[[this.props.day,"Top Level of Day"]].concat(Object(m.a)(this.all_potential_parents(this.props.day).map((function(t){return[t,e.bread_crumb(t)]})))),extra_class:"form-control-sm",description:"Enter new parent workette."})))}}]),a}(n.Component),Ae=Object(c.b)((function(e){return{workette:e.workette}}),(function(e){return{move_workette:function(t,a){return e(q.move_workette(t,a))}}}))(De),Ie=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={show_add:!1,show_edit:!1,show_move:!1,show_note:!1,open_only:!0},e.update_workette=function(t){var a=e.props.workette.items[e.props.w_id];T(e.props.session.cur_date)&&e.props.set_workette(a.jid,t)},e.delete_workette=function(){var t=e.props.workette.items[e.props.w_id];T(e.props.session.cur_date)&&e.props.delete_workette(t.jid,t.parent)},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.workette.items[this.props.w_id];""!==e.context.note&&"workset"!==e.context.wtype&&this.setState({show_note:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.session,n=t.workette,o=this.props.workette.items,s=this.props.w_id;return o[s]?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{fluid:!0,className:"border m-0 p-0",style:{backgroundImage:"linear-gradient(#fffff5, #eeffff)"}},r.a.createElement("span",null,r.a.createElement(pe,{icon:me.e,status:this.state.show_add,onClick:function(){e.setState({show_add:!e.state.show_add})}}),o[s].context.name&&r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{icon:me.c,status:this.state.show_edit,onClick:function(){e.setState({show_edit:!e.state.show_edit})}}),r.a.createElement(pe,{icon:me.a,status:this.state.show_move,onClick:function(){e.setState({show_move:!e.state.show_move})}})),r.a.createElement(pe,{icon:me.h,status:this.state.show_note,onClick:function(){e.setState({show_note:!e.state.show_note})}}),r.a.createElement(pe,{icon:me.d,status:!this.state.open_only,onClick:function(){e.setState({open_only:!e.state.open_only})}})),r.a.createElement(ue.a,{in:this.state.show_add,unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement(Oe,{w_id:this.props.w_id}))),r.a.createElement(ue.a,{in:this.state.show_edit,unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement(Te,{item:o[s],update_func:this.update_workette,delete_func:this.delete_workette}))),r.a.createElement(ue.a,{in:this.state.show_move,unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement(Ae,{item:s,items:o,day:n.days[a.cur_date]}))),r.a.createElement(we,{w_id:this.props.w_id,open_only:this.state.open_only}),r.a.createElement(ue.a,{in:this.state.show_note||"note"===o[s].context.wtype,unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement(Ne,{w_id:s}))),r.a.createElement(Ee,{w_id:this.props.w_id}),r.a.createElement(ye,{w_id:this.props.w_id}),r.a.createElement(ke,{w_id:this.props.w_id}))):r.a.createElement("div",null,"Does not exist")}}]),a}(n.Component),Re=Object(c.b)((function(e){return{session:e.session,workette:e.workette,api:e.api}}),(function(e){return{set_workette:function(t,a){return e(q.set_workette(t,a))},delete_workette:function(t,a){return e(q.delete_workette(t,a))}}}))(Ie);var Le=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.session;e.workette.days[t.cur_date]}},{key:"render",value:function(){var e,t=this.props,a=t.session,n=t.workette,o=n.days[a.cur_date];return r.a.createElement(se.a,{fluid:!0},r.a.createElement(se.a,{fluid:!0},r.a.createElement(ie.a,null)),r.a.createElement("strong",null,n.items[o].context.day&&(e=n.items[o].context.day,new Date(e).toDateString())),r.a.createElement(Re,{w_id:o}))}}]),a}(n.Component),We=Object(c.b)((function(e){return{session:e.session,workette:e.workette,api:e.api}}),(function(e){return{load_mits:function(t){return e(q.load_mits(t))}}}))(Le),ze=a(100),Me=(a(248),function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={ordered:[]},e.handle_drag=function(t){var a=t.source,n=t.destination,r=t.draggableId,o=e.state.ordered;if(n&&a.droppableId===n.droppableId&&a.index!==n.index){var s=o.indexOf(r),i=o.indexOf(o[n.index]),l=M(o,s,i);e.setState({ordered:l})}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.setState({ordered:this.props.items})}},{key:"componentDidUpdate",value:function(){var e=F(this.state.ordered,this.props.items);e!==this.state.ordered&&this.setState({ordered:e})}},{key:"render",value:function(){var e=this,t=this.props.workette.items;this.state.ordered;return r.a.createElement(se.a,{fluid:!0,className:"m-0 p-0"},this.props.items&&this.props.items.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),this.props.label),r.a.createElement(ce.a,{onDragEnd:this.handle_drag},r.a.createElement(ce.c,{droppableId:this.props.w_id},(function(a){return r.a.createElement("div",Object.assign({},a.droppableProps,{ref:a.innerRef}),e.props.items.map((function(a,n){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(fe,{item:t[a],index:n,is_workset:!1,color:e.props.color}))})),a.placeholder)}))))}}]),a}(n.Component)),Pe=Object(c.b)((function(e){return{workette:e.workette}}))(Me),Fe=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={date:S()},e.onChange=function(t){var a=S();t>a&&(t=a),e.props.change_date(t),e.props.workette.days[t.toISOString().split("T")[0]]||e.props.load_day(t.toISOString().split("T")[0]),e.setState({date:t})},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.onChange(S())}},{key:"render",value:function(){var e=this.props,t=e.session,a=e.workette,n=(a.items,a.days[t.cur_date]);return r.a.createElement(se.a,{fluid:!0,className:"m-0 p-0"},r.a.createElement("small",null,r.a.createElement(ze.a,{value:this.state.date,onChange:this.onChange})),r.a.createElement("small",null,"Ver. 0.38.6 "),n&&r.a.createElement(Pe,{w_id:n,label:"Knock these out!",items:ve.deepMIT()}))}}]),a}(n.Component),Ue=function(e){return{session:e.session,workette:e.workette}};Fe=Object(c.b)(Ue,(function(e){return{change_date:function(t){return e(Q(t))},load_day:function(t){return e(q.load_day(t))}}}))(Fe);var qe=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.session,a=e.workette.days[t.cur_date];return r.a.createElement(se.a,{fluid:!0,className:"m-0 p-0"},a&&r.a.createElement(Pe,{w_id:a,label:"Everything Completed!",color:"#d4ffd4",items:ve.deepCompleted()}),a&&r.a.createElement(Pe,{w_id:a,label:"Everything In Progress!",color:"#e4e4ff",items:ve.deepRunning()}),a&&r.a.createElement(Pe,{w_id:a,label:"Everything Abandoned!",color:"#ffdddd",items:ve.deepCanceled()}))}}]),a}(n.Component);qe=Object(c.b)(Ue)(qe);var Ye=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.session,a=e.workette;return r.a.createElement(r.a.Fragment,null,a.days[t.cur_date]&&r.a.createElement(We,null))}}]),a}(n.Component);Ye=Object(c.b)(Ue)(Ye);var He=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.session.logged_in?(v.a.defaults.headers.common.Authorization="token "+this.props.session.token,this.props.session.jac_loaded||this.props.load_jac()):this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(se.a,{fluid:!0},this.props.session.jac_loaded&&r.a.createElement(ie.a,{style:{height:"92vh"}},r.a.createElement(le.a,{style:{minWidth:"350px",height:"100%",maxWidth:"400px",overflowY:"auto"}},r.a.createElement(se.a,null,r.a.createElement(Fe,null))),r.a.createElement(le.a,{style:{minWidth:"400px",height:"100%",overflowY:"auto"}},r.a.createElement(Ye,null)),r.a.createElement(le.a,{style:{minWidth:"350px",height:"100%",maxWidth:"400px",overflowY:"auto"}},r.a.createElement(qe,null))))}}]),a}(n.Component),Ve=Object(c.b)((function(e){return{session:e.session}}),(function(e){return{load_jac:function(){return v.a.get("/ll.jac").then((function(t){return e(G(btoa(t.data)))}))}}}))(He),Je=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={show_left:!0,show_right:!0},e.sidebar_style=function(e){return{minWidth:e?"300px":"70px",maxHeight:"100%",maxWidth:e?"350px":"70px",overflowY:"auto"}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.session.logged_in?(v.a.defaults.headers.common.Authorization="token "+this.props.session.token,this.props.session.jac_loaded||this.props.load_jac()):this.props.history.push("/login")}},{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{fluid:!0,style:{height:"100%"}},this.props.session.jac_loaded&&r.a.createElement(ie.a,{style:{height:"100%",overflowY:"auto"}},r.a.createElement(le.a,{style:this.sidebar_style(this.state.show_left)},r.a.createElement(se.a,null,r.a.createElement("center",null,r.a.createElement(pe,{icon:me.d,status:this.state.show_left,onClick:function(){e.setState({show_left:!e.state.show_left})}})),this.state.show_left&&r.a.createElement(Fe,null))),r.a.createElement(le.a,{style:{minWidth:"400px",maxHeight:"100%",overflowY:"auto"}},r.a.createElement(Ye,null)),r.a.createElement(le.a,{style:this.sidebar_style(this.state.show_right)},r.a.createElement("center",null,r.a.createElement(pe,{icon:me.d,status:this.state.show_right,onClick:function(){e.setState({show_right:!e.state.show_right})}})),this.state.show_right&&r.a.createElement(qe,null))))}}]),a}(n.Component),Xe=Object(c.b)((function(e){return{session:e.session}}),(function(e){return{load_jac:function(){return v.a.get("/ll.jac").then((function(t){return e(G(btoa(t.data)))}))}}}))(Je),Be=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",pass:"",errors:[]},e.handleSubmit=function(t){var a=e.state,n=a.email,r=a.pass;t.preventDefault(),e.props.login({email:n,pass:r}),e.setState({pass:""})},e.handleChange=function(t){"email"===t.currentTarget.name?e.setState({email:t.currentTarget.value}):"password"===t.currentTarget.name&&e.setState({pass:t.currentTarget.value})},e.validate=function(){var t=e.state,a=t.email,n=t.pass,r=t.errors;r.length=0,""===a.trim()&&r.push("Email required;\n"),""===n.trim()&&r.push("Password required;\n")},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.pass,n=e.errors;return r.a.createElement("div",{className:"container-sm"},this.props.session.logged_in&&r.a.createElement(l.a,{to:"/"}),r.a.createElement(L,{errors:this.props.session.error}),r.a.createElement("h1",null,"Login"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(D,{value:t,onChange:this.handleChange,name:"email",label:"Email address",description:"Enter a valid email address."}),r.a.createElement(D,{value:a,onChange:this.handleChange,name:"password",type:"password",label:"Password",description:"Enter your password."}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login")),r.a.createElement("br",null),this.validate(),0!==n.length&&r.a.createElement("div",{className:"alert alert-danger"},n))}}]),a}(n.Component),$e=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.logout(),this.props.wkt_logout()}},{key:"render",value:function(){return r.a.createElement("div",null,!this.props.session.logged_in&&r.a.createElement(l.a,{to:"/"}))}}]),a}(n.Component),Ke=function(e){return{session:e.session}},Ge=function(e){return{login:function(t){var a=t.email,n=t.pass;return e(K({email:a,pass:n}))},logout:function(){return e(Z())},wkt_logout:function(){return e(q.logout())}}};Be=Object(c.b)(Ke,Ge)(Be),$e=Object(c.b)(Ke,Ge)($e);var Qe=function(e){Object(O.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",pass:"",pass_dup:"",full_name:"",errors:[]},e.handleSubmit=function(t){var a=e.state,n=a.email,r=a.pass,o=a.full_name;t.preventDefault(),e.props.create({email:n,pass:r,full_name:o}),e.setState({pass:"",pass_dup:""})},e.handleChange=function(t){"email"===t.currentTarget.name?e.setState({email:t.currentTarget.value}):"password"===t.currentTarget.name?e.setState({pass:t.currentTarget.value}):"pass_dup"===t.currentTarget.name?e.setState({pass_dup:t.currentTarget.value}):"full_name"===t.currentTarget.name&&e.setState({full_name:t.currentTarget.value})},e.validate=function(){var t=e.state,a=t.email,n=t.pass,r=t.errors,o=t.pass_dup;r.length=0,""===a.trim()&&r.push("Email required;\n"),""===n.trim()&&r.push("Password required;\n"),""===o.trim()&&r.push("Re-enter password;\n"),o.trim()!==n.trim()&&r.push("Passwords do not match;\n")},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.pass,n=e.pass_dup,o=e.full_name,s=e.errors;return r.a.createElement("div",{className:"container-sm"},r.a.createElement(L,{errors:this.props.session.error}),"user_created"===this.props.session.token&&r.a.createElement(l.a,{to:"/login"}),r.a.createElement("h1",null,"Register"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(D,{value:t,onChange:this.handleChange,name:"email",label:"Email address",description:"Enter a valid email address."}),r.a.createElement(D,{value:a,onChange:this.handleChange,name:"password",type:"password",label:"Password",description:"Enter your password."}),r.a.createElement(D,{value:n,onChange:this.handleChange,name:"pass_dup",type:"password",label:"Re-enter Password",description:"Please re-enter password."}),r.a.createElement(D,{value:o,onChange:this.handleChange,name:"full_name",label:"Full Name",description:"(optional) Enter full name."}),r.a.createElement("button",{disabled:s.length,type:"submit",className:"btn btn-primary"},"Register")),r.a.createElement("br",null),this.validate(),0!==s.length&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("pre",null,s)))}}]),a}(n.Component),Ze=Object(c.b)((function(e){return{session:e.session}}),(function(e){return{create:function(t){var a=t.email,n=t.pass,r=t.full_name;return e($({email:a,pass:n,full_name:r}))}}}))(Qe);var et=function(){return r.a.createElement(c.a,{store:ne},r.a.createElement("div",null,r.a.createElement(oe,{style:{height:"40px"}}),r.a.createElement(se.a,{fluid:!0,className:"m-0 p-0",style:{height:"calc(100vh - 70px)"}},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",component:Be}),r.a.createElement(l.b,{path:"/logout",component:$e}),r.a.createElement(l.b,{path:"/register",component:Ze}),r.a.createElement(l.b,{path:"/reflect",component:Ve}),r.a.createElement(l.b,{path:"/",component:Xe}))),r.a.createElement(z,{style:{height:"30px"}})))},tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function at(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(249);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(et,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):at(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):at(t,e)}))}}()}},[[101,1,2]]]);
//# sourceMappingURL=main.83cb5012.chunk.js.map